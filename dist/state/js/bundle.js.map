{"version":3,"sources":["webpack:///./src/index.tsx","webpack:///./src/lazy/Component.ts","webpack:///./src/lazy/Document.ts","webpack:///./src/lazy/LazyDom.ts","webpack:///./src/lazy/LazyProp.ts","webpack:///./src/lazy/LazyTask.ts","webpack:///./src/lazy/Lazyable.ts","webpack:///./src/lazy/VirtualElement.ts","webpack:///./src/lazy/index.ts","webpack:///./src/lazy/utils/Args.ts","webpack:///./src/lazy/utils/Array.ts","webpack:///./src/lazy/utils/Async.ts","webpack:///./src/lazy/utils/Decorators.ts","webpack:///./src/lazy/utils/EventEmitter.ts","webpack:///./src/lazy/utils/Object.ts","webpack:///./src/lazy/utils/Type.ts","webpack:///./src/lazy/utils/index.ts","webpack:///./src/lazy/utils/number.ts","webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/get javascript update chunk filename","webpack:///webpack/runtime/get update manifest filename","webpack:///webpack/runtime/getFullHash","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/load script","webpack:///webpack/runtime/make namespace object","webpack:///webpack/runtime/hot module replacement","webpack:///webpack/runtime/publicPath","webpack:///webpack/runtime/jsonp chunk loading","webpack:///webpack/startup"],"names":["data","Lazyable","ref","undefined","count","arr","generateArray","i","Lazyman","HTMLDOMDrive","console","log","push","pop","map","index","lazyDocument","COMPONENT_FLAG","Symbol","Component","props","_prop","onMounted","onCreated","onUnMounted","render","constructor","LazyDocument","isTextElement","d","createTextElement","t","createElement","querySelector","k","querySelectorAll","getPosition","elements","length","Error","lastElement","nextSibling","parent","preSibling","insertElements","position","insertBefore","append","replaceElements","newElements","oldElements","forEach","ele","remove","MyBaseElement","isText","dom","Text","getText","textContent","innerText","eles","appendChild","sib","nextElementSibling","previousSibling","previousElementSibling","parentElement","parentNode","doms","target","setAttribute","attr","value","test","eventname","toLowerCase","replace","addEventListener","tv","classNames","s","style","removeAttribute","removeEventListener","clear","innerHTML","v","document","r","rs","Array","from","className","classname","isArray","filter","c","join","Object","keys","prop","classnames","trim","joinObject","LazyProp","getProp","virualElemet","Map","id","key","children","init","canHandleChildren","property","handleChildren","result","VirtualElement","handleNormal","p","handleRef","rawProp","Raw","task","LazyTask","o","originValue","autoRun","addProperty","unsub","onLazyable","native","instance","removeProperty","onMatch","store","has","get","filtResult","match","stop","hasStopped","restart","set","handleRest","restProperties","Set","restValue","lastUnsub","add","pTask","hasOwnProperty","delete","autoUnsub","storeArr","splice","mainTask","type","addSubTask","maxRunTime","update","oldSet","newSet","TMEP_RUNNING_TASK","getRunningTask","setRunnintTask","runExcludeTask","h","except","stopRecordRely","canRecordRely","startRecordRely","handler","option","run","debounce","Debounce","canRecord","notRecord","reasons","stopped","lastTask","shouldAutoUnsub","removeRely","runTime","time","getData","setData","getTask","removeSubTask","res","subTasks","changeReasons","force","execute","autobind","TASK_TARGET_RELY","TARGET_TASK_RELY","addRely","size","ov","isAdd","oldValue","LAZYABLE_FLAG","LAZYABLED_FLAG","ORIGIN_TARGET_FLAG","hasTargetLazyabled","origin","getLazyableRawData","proto","__proto__","isLazyabledData","canKeyLazyable","include","exclude","includes","GET_HANDLERS_MAP","SET_HANDLERS_MAP","DELETE_HANDLERS_MAP","ADD_HANDLERS_MAP","getHandlersMapByType","onLazyableOpt","args","LAZYABLE_GET_TRANSFORMERS","transformLazyable","opt","R","Proxy","Reflect","Rv","reduce","lastv","deleteProperty","Ref","temp","State","defineProperty","FunctionalComponentIndex","TempRunningFunctionalComponent","FunctionalComponentStoreMap","getKey","component","execComponent","o1","unmount","Prop","renderTask","o2","fr","formatResult","renderResult","Res","diffResult","execFunctional","ThisFunctionalIndex","execFunctionalComponent","mounted","u","execFragment","flattern","execNative","handle","cb","o3","elemets","unmountResult","newV","oldV","isStop","exec","isComponent","isFunction","isFragment","isNative","getElements","JSON","stringify","_result","positions","func","lastRunningComponent","lazyableData","inited","lazyableDataIndex","assertInFunctionComponent","useLazyable","initialValue","returnValue","useCreated","useUnMounted","useMounted","newResult","oldResult","oldKeymap","oldRestIndexes","usedOldIndex","positionIndex","nextElement","newReturnResult","returnElements","oldPosition","or","tempElements","drive","assign","container","format","window","CacheArgs","timeout","level","getArgs","argsDataList","find","isSame","addArgs","onTimeout","old","newData","ArgsData","setTimeout","getValue","argsData","cache","valueMap","equal","setValue","findArrayDiff","oData","nData","oMap","deleted","added","keep","gene","generateTreeByArray","nodes","node","parentId","toMap","chunk","tail","mergeArray","a1","a2","l1","l2","minL","min","XPromise","promise","Promise","resolve","reject","wait","_async","clearTimeout","_timeSchedule","then","catch","e","Throttle","timeSchedule","waitTime","configurable","enumerable","bind","pendding","descriptor","apply","arguments","throttle","lazy","onSet","onGet","cacheMap","newArgsData","countMap","loading","name","ins","_xp","finally","IdGenerator","getId","id_can_used","releaseId","EventEmitter","unsubscribe","eventnames","$idG","eventMap","handlesMap","ids","on","eventArr","eventId","emit","eventIds","once","v1","v2","samePoint","t1","t2","keys1","keys2","omit","condition","_canOmit","some","pick","canPick","object","str","isFirst","isNumber","isNaN","isBoolean","isNull","isObject","_isObject","includeArr","includeNull","isSymbol","isString","isEmptyString","isSet","isMap","isUndefined","isNil","isEmpty","includeObject","includeNumber","includeString","includeUndefined","Args","Arr","Async","Decorators","Obj","Inter","Type","event","a","b","slice","max"],"mappings":"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,CAACH,CAAD,EAAIC,CAAJ,CAAV;AACD,C;;;;;;UC9BD;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;UACA,qBAAqB;UACrB,mDAAmD,sBAAsB,EAAE;UAC3E;UACA;UACA,EAAE;UACF;UACA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;;UAEA;UACA;;;;;WCxCA;WACA;WACA;WACA;WACA,wCAAwC,yCAAyC;WACjF;WACA;WACA,E;;;;;WCPA;WACA;WACA;WACA;WACA,E;;;;;WCJA,0F;;;;;WCAA,sD;;;;;WCAA,wF;;;;;WCAA;WACA;WACA;WACA;WACA,sBAAsB,4BAA4B,QAAQ;WAC1D;WACA;WACA;WACA,gBAAgB,oBAAoB;WACpC;WACA,qCAAqC,YAAY,OAAO;WACxD;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,kEAAkE,kCAAkC;WACpG;WACA;WACA;WACA,E;;;;;WCzCA;WACA;WACA;WACA,sDAAsD,kBAAkB;WACxE;WACA,+CAA+C,cAAc;WAC7D,E;;;;;WCNA;WACA;;WAEA;WACA;WACA;;WAEA;WACA;WACA;;WAEA;WACA;;WAEA;WACA;WACA;;WAEA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,CAAC;;WAED;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,IAAI;WACJ;WACA;WACA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,IAAI;WACJ;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA,2BAA2B;WAC3B,4BAA4B;WAC5B,2BAA2B;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,GAAG;;WAEH;WACA;WACA;WACA;WACA;WACA;WACA,mBAAmB,gBAAgB;WACnC;WACA;WACA;WACA,IAAI;WACJ;WACA;WACA;WACA,GAAG;WACH;WACA;WACA;WACA,mBAAmB,gBAAgB;WACnC;WACA;WACA,GAAG;WACH;WACA;WACA,GAAG;WACH;WACA;WACA,GAAG;WACH;WACA;WACA;WACA,GAAG;WACH;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM;WACN;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM;WACN;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,GAAG;;WAEH;WACA;WACA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,GAAG;WACH;WACA;WACA;WACA,GAAG;;WAEH;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA,gBAAgB,qCAAqC;WACrD;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,IAAI;WACJ;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA,EAAE;WACF;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,IAAI;WACJ;WACA;WACA;WACA;WACA;WACA,KAAK;WACL;;WAEA;WACA;WACA,IAAI;WACJ,GAAG;WACH,EAAE;WACF;;WAEA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA;;WAEA;WACA;;WAEA;;WAEA;WACA;WACA,EAAE;WACF;;WAEA;WACA;WACA;WACA,GAAG;WACH;;WAEA;WACA;WACA;WACA;WACA,GAAG;WACH;;WAEA;WACA;;WAEA;WACA;WACA,EAAE;;WAEF;WACA;;WAEA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA,mBAAmB,oBAAoB;WACvC;WACA;WACA;WACA;WACA,EAAE;;WAEF;WACA;WACA;WACA;WACA;WACA,GAAG;WACH;;WAEA;WACA;WACA;WACA;WACA,IAAI;WACJ;WACA,GAAG;WACH;;WAEA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,IAAI;WACJ,GAAG;WACH;WACA;WACA;WACA,C;;;;;WC7WA,4B;;;;;WCAA;;WAEA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,EAAE;WACF;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,kBAAkB,2BAA2B;WAC7C;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,KAAK;WACL;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA,iBAAiB,cAAc;WAC/B;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA,cAAc,KAAK;WACnB;WACA;WACA;WACA,IAAI;WACJ;WACA;WACA;WACA;WACA;WACA,cAAc,YAAY;WAC1B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA,gBAAgB,4BAA4B;WAC5C;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,IAAI;WACJ;WACA;;WAEA;;WAEA;WACA;WACA;WACA;WACA,IAAI;WACJ;;WAEA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;WACA;WACA,eAAe,4BAA4B;WAC3C;WACA;WACA;;WAEA;WACA;;WAEA;WACA;;WAEA;WACA;;WAEA;WACA,eAAe,4BAA4B;WAC3C;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,iBAAiB,uCAAuC;WACxD;WACA;WACA;WACA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA,kBAAkB,iCAAiC;WACnD;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,qBAAqB,uCAAuC;WAC5D;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,qBAAqB,sBAAsB;WAC3C;WACA;WACA,QAAQ;WACR;WACA;WACA;WACA;WACA;WACA,WAAW;WACX,UAAU;WACV;WACA;WACA;WACA;WACA;WACA;WACA;WACA,YAAY;WACZ;WACA;WACA;WACA;WACA;WACA;WACA,SAAS;WACT;WACA;WACA;WACA;WACA;WACA;WACA,WAAW;WACX;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA,kBAAkB,wCAAwC;WAC1D;WACA;WACA;WACA;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA,QAAQ;WACR,OAAO;WACP;WACA;WACA;WACA;WACA;WACA;WACA,SAAS;WACT;WACA;WACA;WACA;WACA;WACA;WACA,MAAM;WACN;WACA;WACA;WACA;WACA;WACA,QAAQ;WACR;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,EAAE,IAAI;WACN;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,EAAE;WACF;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA,qCAAqC;WACrC;WACA;WACA,EAAE;WACF;;WAEA;;WAEA,oB;;;;;UC5fA;UACA;UACA;UACA","file":"state/js/bundle.js","sourcesContent":["// import React from \"react\";\nimport Lazyman, { lazyDocument } from \"./lazy/index\";\nimport { Lazyable, Raw } from \"./lazy/Lazyable\";\nimport HTMLDOMDrive from \"./lazy/LazyDom\";\nimport { generateArray } from \"./lazy/utils/Array\";\n\nconst data = Lazyable({\n  ref: undefined,\n  count: 1,\n  arr: generateArray(4, (i) => i),\n} as { count: number; arr: number[]; ref: any });\nLazyman.drive(HTMLDOMDrive);\nLazyman.render(\n  <div>\n    <div>\n      <button\n        onClick={() => {\n          console.log(1234);\n          data.arr.push(21);\n          console.log(data.arr);\n        }}\n      >\n        增加新的值\n      </button>\n      <button\n        onClick={() => {\n          data.arr.pop();\n        }}\n      >\n        减少新的值\n      </button>\n    </div>\n    <div>\n      {data.arr.map((i, index) => (\n        <div\n          key={index}\n          onClick={() => {\n            data.arr[index]++;\n          }}\n        >\n          {i}\n        </div>\n      ))}\n    </div>\n  </div>,\n  lazyDocument.querySelector(\"#root\")!\n);\n","import { PropType } from \"./common\";\nimport { ElementResultType } from \"./VirtualElement\";\nexport const COMPONENT_FLAG = Symbol(\"COMPONENT_FLAG\");\nexport class Component<P extends PropType> {\n  static [COMPONENT_FLAG] = true;\n  private _prop?: P;\n  get props(): P {\n    return this._prop! || {};\n  }\n  onMounted(): void | (() => void) {}\n  onCreated(): void | (() => void) {}\n  onUnMounted() {}\n  render(): ElementResultType {\n    return undefined;\n  }\n  constructor() {}\n}\n","import { IDocument, IDomElement, IDomPosition } from \"./common\";\nexport class LazyDocument implements IDocument {\n  isTextElement(d: any) {\n    return undefined as any;\n  }\n  createTextElement(t: string) {\n    return undefined as any;\n  }\n  createElement(t: string) {\n    return undefined as any;\n  }\n  querySelector(k: string) {\n    return null;\n  }\n  querySelectorAll() {\n    return null;\n  }\n  getPosition(elements: IDomElement[]): IDomPosition {\n    if (elements.length <= 0) throw new Error(\"no elements can use\");\n    const lastElement = elements[elements.length - 1];\n    return {\n      nextSibling: lastElement.nextSibling,\n      parent: lastElement.parent,\n      preSibling: lastElement.preSibling,\n    };\n  }\n  insertElements(elements: IDomElement[], position: IDomPosition) {\n    if (position.nextSibling) {\n      position.parent?.insertBefore(elements, position.nextSibling);\n    } else if (position.parent) {\n      position.parent.append(elements);\n    } else {\n      throw new Error(\"position is invalid!\");\n    }\n  }\n  replaceElements(newElements: IDomElement[], oldElements: IDomElement[]) {\n    const position = this.getPosition(oldElements);\n    oldElements.forEach((ele) => ele.remove());\n    this.insertElements(newElements, position);\n  }\n}\n\nconst lazyDocument = new LazyDocument();\nexport { lazyDocument };\n","import { IDocument, IDomElement } from \"./common\";\nimport { joinObject } from \"./utils/Object\";\nimport { getRunningTask, LazyTask } from \"./LazyTask\";\n\nclass MyBaseElement implements IDomElement {\n  isText() {\n    return this.dom instanceof Text;\n  }\n  getText() {\n    return this.isText()\n      ? (this.dom as Text).textContent\n      : (this.dom as any)?.innerText;\n  }\n  constructor(private dom: Text | HTMLElement) {}\n  append(eles: IDomElement[]) {\n    eles.forEach((ele) => {\n      // 得保证都是 MyBaseElement类型 Ts的优势出来了\n      if (ele instanceof MyBaseElement) {\n        this.dom.appendChild(ele.dom);\n      }\n    });\n  }\n  get nextSibling(): IDomElement | null {\n    const sib = this.dom.nextSibling || this.dom.nextElementSibling;\n    if (!sib) return null;\n    return new MyBaseElement(sib as any);\n  }\n  get preSibling(): IDomElement | null {\n    const sib = this.dom.previousSibling || this.dom.previousElementSibling;\n    if (!sib) return null;\n    return new MyBaseElement(sib as any);\n  }\n  get parent(): IDomElement | null {\n    const parent = this.dom.parentElement || this.dom.parentNode;\n    if (!parent) return null;\n    return new MyBaseElement(parent as any);\n  }\n  insertBefore(doms: IDomElement[], target: IDomElement | null) {\n    if (!(target instanceof MyBaseElement))\n      throw new Error(\"target to insert must be MyBaseElement Type\");\n    doms.forEach((dom) => {\n      if (dom instanceof MyBaseElement) {\n        this.dom.insertBefore(dom.dom, target.dom);\n      }\n    });\n  }\n  setAttribute(attr: string, value: any) {\n    if (attr === \"key\") return;\n    if ((this.dom as any)?.setAttribute) {\n      // 处理事件\n      if (/^on\\w+/gi.test(attr)) {\n        const eventname = attr.toLowerCase().replace(/^on/gi, \"\");\n        this.dom.addEventListener(eventname, value);\n        return;\n      }\n      switch (attr) {\n        case \"className\":\n          const tv = classNames(value);\n          if (tv) {\n            (this.dom as HTMLElement).setAttribute(\"class\", tv);\n          }\n          break;\n        case \"style\":\n          const s = style(value);\n          if (s) {\n            (this.dom as HTMLElement).setAttribute(\"style\", s);\n          }\n          break;\n        default:\n          (this.dom as HTMLElement).setAttribute(attr, value);\n      }\n    }\n  }\n  removeAttribute(attr: string, value?: any) {\n    if (/^on\\w+/gi.test(attr)) {\n      const eventname = attr.toLowerCase().replace(/^on/gi, \"\");\n      this.dom.removeEventListener(eventname, value);\n      return;\n    }\n    if ((this.dom as any)?.removeAttribute) {\n      switch (attr) {\n        case \"className\":\n          (this.dom as HTMLElement).removeAttribute(\"class\");\n          break;\n        default:\n          (this.dom as HTMLElement).removeAttribute(attr);\n      }\n    }\n  }\n  remove() {\n    return this.dom.remove();\n  }\n  // 清空子节点\n  clear() {\n    if (this.dom instanceof Text) {\n      this.dom.textContent = \"\";\n    } else {\n      this.dom.innerHTML = \"\";\n    }\n  }\n}\n\nconst HTMLDOMDrive: IDocument = {\n  createTextElement(v: string) {\n    return new MyBaseElement(new Text(v));\n  },\n  isTextElement(v: any) {\n    return v instanceof MyBaseElement && v.isText();\n  },\n  createElement(dom: string) {\n    return new MyBaseElement(document.createElement(dom));\n  },\n  querySelector(v: string) {\n    const r = document.querySelector(v);\n    if (r) return new MyBaseElement(r as any);\n    return null;\n  },\n  querySelectorAll(v: string) {\n    const rs = document.querySelectorAll(v);\n    if (rs) return Array.from(rs).map((r) => new MyBaseElement(r as any));\n    return null;\n  },\n};\n\nexport default HTMLDOMDrive;\n\ntype TypeOfClassNames =\n  | string\n  | undefined\n  | (string | undefined | { [prop: string]: boolean })[]\n  | { [prop: string]: boolean };\nfunction className(classname: TypeOfClassNames): string | undefined {\n  if (!classname) return;\n  if (typeof classname === \"string\") {\n    return classname;\n  }\n  if (Array.isArray(classname)) {\n    return classname\n      .map(className)\n      .filter((c) => c)\n      .join(\" \");\n  }\n  return className(\n    Object.keys(classname)\n      .filter((prop) => classname[prop])\n      .map((prop) => prop)\n  );\n}\nfunction classNames(...classnames: TypeOfClassNames[]): string | undefined {\n  return className(classnames.map(className));\n}\n\n/**\n * 对style的处理 这里是简单的、初级的\n * @param value\n * @returns\n */\nfunction style(value: string | Record<string, any>) {\n  if (typeof value === \"string\") return value.trim();\n  if (typeof value === \"object\") return joinObject(value, \"&\").trim();\n  return undefined;\n}\n","import { PropType, FunctionalValue, FunctionalProp } from \"./common\";\nimport { Lazyable, Raw, onLazyable } from \"./Lazyable\";\nimport { LazyTask } from \"./LazyTask\";\nimport VirtualElement from \"./VirtualElement\";\n\n/**\n * @author [qianzhixiang]\n * @email [zxqian199@163.com]\n * @create date 2021-05-08 13:39:28\n * @modify date 2021-05-08 13:39:28\n * @desc [自动响应的对象]\n */\n\nexport class LazyProp {\n  // 对外暴露的prop，是一个lazyable的对象\n  private prop: PropType = Lazyable({});\n  // prop的主任务 用来控制任务的运行\n  private mainTask?: LazyTask;\n  // 对外暴露的方法，用以获取prop\n  getProp() {\n    return this.prop;\n  }\n  // 存储所有属性的地方(一个属性可能对象都拥有，某一个对象的属性被删除了 下一个要接替。)\n  private store = new Map<\n    string | number,\n    {\n      index: number; // 所在位置\n      task: LazyTask;\n    }[]\n  >();\n  private id!: number | string;\n  private key?: FunctionalValue;\n  private props: FunctionalProp[] = [];\n  private children: FunctionalValue[] = [];\n  constructor(\n    // private id: number | string,\n    // private key: FunctionalValue | undefined,\n    private virualElemet: VirtualElement // private props: FunctionalProp[] = [], // private children: FunctionalValue[] = []\n  ) {\n    this.id = this.virualElemet.id;\n    this.key = this.virualElemet.key;\n    this.props = this.virualElemet.props;\n    this.children = this.virualElemet.children;\n    this.init();\n  }\n\n  // props里面可能是存在children属性的 但是 只要this.children存在就表示props里面的children都是无效的\n  private canHandleChildren(property: string) {\n    return (\n      property &&\n      this.children &&\n      property === \"children\" &&\n      this.children.length > 0\n    );\n  }\n  // 给prop赋值children 同时标记这个children是一个属于组件子节点的children 便于控制\n  private handleChildren() {\n    if (typeof this.id === \"string\") {\n      this.prop.children = this.children;\n      return;\n    }\n    // fragment类型的数据不用处理\n    const result = this.children.map(\n      (i, index) =>\n        new VirtualElement(\n          `${this.id}`,\n          () => `${this.id}-${index}`,\n          \"fragment\",\n          [],\n          [i as FunctionalValue]\n        )\n    );\n    // 给children重新赋值 这回触发更新 更新时根据key + fragment进行对比\n    this.prop.children = result;\n  }\n\n  /**\n   * 处理普通的属性\n   * @param p\n   * @param i\n   * @returns\n   */\n  private handleNormal(p: FunctionalProp, i: number) {\n    const property = p.property;\n    if (property) {\n      // 是children的话 什么都不用做\n      if (this.canHandleChildren(property)) {\n        return;\n      }\n\n      if (property === \"ref\") {\n        return this.handleRef(p.value);\n      }\n      const rawProp = Raw(this.prop);\n      // 不是children的话 就要创建这个任务 任务默认不启动 在addProperty中进行控制\n      const task = new LazyTask(\n        (o) => {\n          // 重新赋值属性 并重新记录依赖\n          const value = p.value();\n          const originValue = rawProp[property];\n          if (value !== originValue) {\n            this.prop[property] = value;\n          }\n        },\n        {\n          autoRun: false,\n        }\n      );\n      // 将属性添加到store中\n      this.addProperty(property, i, task);\n    }\n  }\n\n  private handleRef(value: FunctionalValue) {\n    // 处理REF 主要是返回\n    let target: any;\n    let key: string | number | symbol | undefined;\n    const unsub = onLazyable(\"get\", (t, k, v) => {\n      target = t;\n      key = k;\n    });\n    value();\n    unsub();\n    if (target !== undefined && key !== undefined) {\n      target[key] = this.virualElemet.native || this.virualElemet.instance;\n    }\n  }\n\n  /**\n   * 移除一个属性\n   * @param property 属性名字\n   * @param index 属性所在的位置\n   * @param onMatch 移除时调用的函数\n   */\n  private removeProperty(\n    property: string,\n    index: number,\n    onMatch?: (item: { index: number; task: LazyTask<any> }) => void\n  ) {\n    if (this.store.has(property)) {\n      const arr = this.store.get(property)!;\n      // 过滤符合条件的\n      const filtResult = arr?.filter((v) => {\n        const match = v.index === index;\n        if (match) {\n          // 符合条件 移除这个任务\n          // restTask.stopExceptSubTask(v.task);\n          v.task.stop();\n          onMatch?.(v);\n        }\n        return !match; // 留下的肯定是没匹配的 别弄错了\n      });\n      // 最后一个任务自动重启\n      if (\n        filtResult &&\n        filtResult.length > 0 &&\n        filtResult[filtResult.length - 1].task.hasStopped()\n      ) {\n        filtResult[filtResult.length - 1].task.restart([], true);\n      }\n      this.store.set(property, filtResult);\n    }\n  }\n  private handleRest(p: FunctionalProp, i: number) {\n    // 有一个任务单独的去监听对象的变化\n    const restProperties = new Set<string>();\n    // 储存的上一次的值 来判断是否需要重新计算\n    let value: any;\n    return new LazyTask(\n      (o) => {\n        // 重新计算  会产生新的依赖\n        const restValue = p.value();\n        // 两个值不一样 那得清空上一个值得信息\n        if (value !== restValue) {\n          // 之前记录了这个rest的值有哪些属性 在这里我们要将这些相关的信息都清空 以便重新计算\n          restProperties.forEach((property) =>\n            // 移除属性的同时会自动的启停任务\n            this.removeProperty(property, i)\n          );\n          // 清空旧值的基本信息\n          restProperties.clear();\n          // 移除旧值的监听\n          o.lastUnsub();\n          // 监听新增属性的逻辑\n          const unsub = onLazyable(\"add\", restValue, (t, property, v) => {\n            // 判断是否呀哦处理children\n            if (this.canHandleChildren(property as string)) {\n              return;\n            }\n            if (property === \"ref\") {\n              return this.handleRef(() => restValue[\"ref\"]);\n            }\n            // 添加到属性存储中\n            restProperties.add(property as string);\n            const rawProp = Raw(this.prop);\n            // 新建属性的监听任务\n            const pTask = new LazyTask(\n              () => {\n                // 直接赋值\n                if (restValue.hasOwnProperty(property)) {\n                  const originValue = rawProp[property as string];\n                  const value = restValue[property];\n                  if (originValue !== value) {\n                    this.prop[property as string] = value;\n                  }\n                } else {\n                  // 不存在这个属性了  表示这个属性被删了\n                  restProperties.delete(property as string);\n                  // 移除store中的存储\n                  this.removeProperty(property as string, i);\n                }\n              },\n              {\n                autoRun: false,\n              }\n            );\n            // 把这个加入到监听属性中去\n            this.addProperty(property as string, i, pTask);\n          });\n          // 监听函数没有在任务最后自动销毁  因为可能是同一个值，新建销毁的是没必要的浪费\n\n          // 遍历它所有的属性\n          for (let property in restValue) {\n            // 保存当前所有的属性\n            if (this.canHandleChildren(property as string)) {\n              continue;\n            }\n            if (property === \"ref\") {\n              return this.handleRef(() => restValue[\"ref\"]);\n            }\n            restProperties.add(property);\n            // 新建属性的监听任务\n            const pTask = new LazyTask(\n              () => {\n                if (restValue.hasOwnProperty(property)) {\n                  this.prop[property] = restValue[property];\n                } else {\n                  // 不存在这个属性了  表示这个属性被删了\n                  restProperties.delete(property);\n                  this.removeProperty(property, i, (v) => v.task.stop());\n                }\n              },\n              {\n                autoRun: false,\n              }\n            );\n            this.addProperty(property, i, pTask);\n          }\n          // 要移除对新增属性的事件的监听\n          return () => unsub();\n        } else {\n          // 值一样 咱就不管 返回上个任务的回调 便于最后销毁的时候调用\n          return o.lastUnsub;\n        }\n        // 两个值相等 啥都不用做\n      },\n      {\n        autoUnsub: false,\n      }\n    );\n  }\n\n  /**\n   * 添加一个新的属性到store中去\n   * 如果是最后一个 要停止上一个任务 开始新的任务\n   * @param property\n   * @param index\n   * @param task\n   */\n  private addProperty(property: string, index: number, task: LazyTask) {\n    if (!this.store.has(property)) {\n      this.store.set(property, []);\n    }\n    // 先获取这个属性存储的结果\n    const storeArr = this.store.get(property)!;\n    // 进件存储的内容\n    const data = {\n      index,\n      task,\n    };\n    // 结果是空的 说明没别的属性位置 直接运行\n    if (storeArr.length === 0) {\n      storeArr.push(data);\n      data.task.restart();\n    } else if (index > storeArr[storeArr.length - 1].index) {\n      // 位置比最后一个值还靠后 那就停止最后一个 同时启动自己 （这个存储的数组的index肯定是有小到大的、有序的）\n      storeArr[storeArr.length - 1].task.stop();\n      storeArr.push(data);\n      task.restart();\n    } else {\n      /**\n       * 找出比自己小的\n       * 找的过程可以进一步优化\n       */\n      for (let i = storeArr.length - 1; i >= 0; i--) {\n        // 找到了 就在下一个位置插入自己\n        if (storeArr[i].index < index) {\n          storeArr.splice(i + 1, 0, data);\n        } else if (i === 0) {\n          // 找不到 同时已经到头了 就在最前面插入\n          storeArr.splice(0, 0, data);\n        }\n      }\n    }\n  }\n\n  /**\n   * 初始化prop\n   */\n  private init() {\n    // children可以处理 先处理下children\n    if (this.canHandleChildren(\"children\")) {\n      this.handleChildren();\n    }\n    // 开启主任务\n    this.mainTask = new LazyTask(\n      (o) => {\n        // key传递给后代 防止要用\n        if (this.key) {\n          this.handleNormal(\n            { type: \"normal\", property: \"key\", value: this.key },\n            -1\n          );\n        }\n        for (let i = 0; i < this.props.length; i++) {\n          const p = this.props[i];\n          if (p.type === \"normal\") {\n            // 处理普通的属性 这本身会生成一个任务 任务会被存放在store中去 所以不必单独添加\n            this.handleNormal(p, i);\n          } else if (p.type === \"rest\") {\n            /**\n             * 处理rest属性\n             * 不同的是，rest的属性本身也是一个值对象 它自身会有很多的依赖 因此这个任务需要\n             */\n            o.addSubTask(this.handleRest(p, i));\n          }\n        }\n        return () => {\n          this.store.forEach((v) => v.forEach((i) => i.task.stop()));\n          this.store.clear();\n        };\n      },\n      {\n        maxRunTime: 1, // 主任务最多运行一次\n      }\n    );\n  }\n  stop() {\n    this.mainTask?.stop();\n    this.mainTask = undefined;\n  }\n\n  update(\n    id: number | string,\n    props: FunctionalProp[] = [],\n    children: FunctionalValue[] = []\n  ) {\n    // 先获取到旧的属性列表\n    const oldSet = new Set(this.store.keys());\n    // 停止一切的任务 + 清空store\n    this.stop();\n    this.id = id;\n    this.props = props;\n    this.children = children;\n    // 重新计算\n    this.init();\n    // 获取新计算得到的属性列表\n    const newSet = new Set(this.store.keys());\n    // 过滤相同的属性 留下不同的\n    newSet.forEach((property) => oldSet.delete(property));\n    // 移除不需要的属性\n    oldSet.forEach((property) => delete this.prop[property]);\n  }\n}\n","import { onLazyable, LazyableOptType } from \"./Lazyable\";\nimport { autobind, Debounce } from \"./utils\";\n/**\n * @author [qianzhixiang]\n * @email [zxqian199@163.com]\n * @create date 2021-05-28 15:43:24\n * @modify date 2021-05-28 15:43:24\n * @desc [description] 执行任务并记录依赖\n */\n\nlet TMEP_RUNNING_TASK: LazyTask | undefined;\nexport function getRunningTask() {\n  return TMEP_RUNNING_TASK;\n}\nfunction setRunnintTask(task?: LazyTask) {\n  TMEP_RUNNING_TASK = task;\n}\n\nexport function runExcludeTask<T = any>(h: () => T) {\n  if (TMEP_RUNNING_TASK) {\n    return TMEP_RUNNING_TASK.except(() => h());\n  }\n  return h();\n}\n\nexport interface ILazyTaskHandlerOption<T = any> {\n  runTime: number;\n  getTask: () => LazyTask;\n  except: <K>(h: () => K) => K;\n  setData: (v: T) => void;\n  getData: () => T | undefined;\n  lastUnsub: (isStop?: boolean) => void;\n  reasons?: TaskChangeReason[];\n  addSubTask: (subTask: LazyTask) => void;\n  removeSubTask: (subTask: LazyTask, stop?: boolean) => void;\n  stop: () => void;\n}\nexport interface ILazyTaskOption {\n  debounce?: number | boolean | undefined; // 任务执行机制\n  autoRun?: boolean; // 是否自动的执行\n  maxRunTime?: number; // 最多执行的次数\n  autoUnsub?: boolean;\n  notRecord?: (t: any, k: string | number, v: any) => boolean; // 有可能有的值不需要被记录 这里需要记录\n}\nexport class LazyTask<T = any> {\n  private stopped = false;\n\n  private unsub?: (isStop: boolean) => void;\n\n  private data?: T;\n\n  private debounce: undefined | Debounce;\n  private time = 0;\n  private changeReasons: TaskChangeReason[] = [];\n\n  private canRecordRely = true;\n  // 停止记录依赖\n  private stopRecordRely() {\n    this.canRecordRely = false;\n  }\n  // 可以记录以来\n  private startRecordRely() {\n    this.canRecordRely = true;\n  }\n  private subTasks = new Set<LazyTask>();\n  constructor(\n    private handler: (\n      option: ILazyTaskHandlerOption<T>\n    ) => void | undefined | ((isStop: boolean) => void),\n    private option: ILazyTaskOption = {}\n  ) {\n    if (this.option.autoRun || this.option.autoRun === undefined) {\n      this.run();\n    }\n    this.debounce =\n      (typeof this.option.debounce === \"number\" && this.option.debounce >= 0) ||\n      this.option.debounce === true\n        ? new Debounce(\n            this.option.debounce === true ? 0 : this.option.debounce || 0\n          )\n        : undefined;\n  }\n  canRecord(t: any, k: string | number, v: any) {\n    if (!this.canRecord) return false;\n    if (!this.option.notRecord || typeof this.option.notRecord !== \"function\")\n      return true;\n    return !this.option.notRecord(t, k, v);\n  }\n  run(reasons?: TaskChangeReason[]) {\n    if (this.stopped) {\n      throw new Error(\"任务已终止！\");\n    }\n    const lastTask = getRunningTask();\n    setRunnintTask(this);\n    const shouldAutoUnsub =\n      this.option.autoUnsub || this.option.autoUnsub === undefined;\n    shouldAutoUnsub && this.unsub?.(false);\n    const lastUnsub = shouldAutoUnsub ? () => {} : () => this.unsub?.(false);\n    removeRely(this);\n    this.unsub =\n      this.handler({\n        runTime: ++this.time,\n        except: this.except,\n        getData: this.getData,\n        setData: this.setData,\n        lastUnsub,\n        getTask: () => this,\n        // removeRely: () => removeRely(this),\n        reasons,\n        addSubTask: this.addSubTask,\n        removeSubTask: this.removeSubTask,\n        stop: this.stop,\n      }) || undefined;\n    setRunnintTask(lastTask);\n  }\n\n  @autobind\n  except<T = any>(h: () => T) {\n    this.stopRecordRely();\n    const res = h();\n    this.startRecordRely();\n    return res;\n  }\n\n  @autobind\n  setData(data: T) {\n    this.data = data;\n  }\n\n  @autobind\n  getData() {\n    return this.data;\n  }\n\n  /**\n   * 停止执行任务\n   */\n  @autobind\n  stop() {\n    // 清理子任务\n    // 清理子任务\n    if (this.stopped) return;\n    this.stopped = true;\n    this.unsub?.(true);\n    this.unsub = undefined;\n    removeRely(this);\n    this.subTasks.forEach((t) => t.stop());\n    this.subTasks.clear();\n    this.data = undefined;\n    this.changeReasons = [];\n  }\n\n  hasStopped() {\n    return this.stopped;\n  }\n\n  restart(reasons?: TaskChangeReason[], force = false) {\n    if (!force && this.stopped) return;\n    if (!this.debounce) {\n      this.run(reasons);\n    } else {\n      // 叠加理由\n      reasons?.forEach((r) => this.changeReasons.push(r));\n      this.debounce.execute(() => {\n        if (this.stopped) return;\n        this.run(this.changeReasons);\n        this.changeReasons = []; // 重置理由\n      });\n    }\n  }\n\n  @autobind\n  addSubTask(task: LazyTask) {\n    this.subTasks.add(task);\n  }\n  @autobind\n  removeSubTask(task: LazyTask, stop = true) {\n    if (stop) task.stop();\n    this.subTasks.delete(task);\n  }\n}\n\nexport type TaskChangeReason = {\n  target: any; // 导致变化的对象\n  key: any; // 导致变化的key\n  type: LazyableOptType;\n  value: any;\n  oldValue?: any;\n};\n\n// 任务依赖了哪些对象的哪些属性\nconst TASK_TARGET_RELY = new Map<LazyTask, Map<any, Set<string>>>();\n// 对象的哪些属性被哪些对象依赖了\nconst TARGET_TASK_RELY = new Map<any, Map<string, Set<LazyTask>>>();\nfunction addRely(task: LazyTask, t: any, k: string) {\n  if (!TASK_TARGET_RELY.has(task)) {\n    TASK_TARGET_RELY.set(task, new Map());\n  }\n  if (!TASK_TARGET_RELY.get(task)?.has(t)) {\n    TASK_TARGET_RELY.get(task)?.set(t, new Set());\n  }\n  TASK_TARGET_RELY.get(task)?.get(t)?.add(k);\n  if (!TARGET_TASK_RELY.has(t)) {\n    TARGET_TASK_RELY.set(t, new Map());\n  }\n  if (!TARGET_TASK_RELY.get(t)?.has(k)) {\n    TARGET_TASK_RELY.get(t)?.set(k, new Set());\n  }\n  TARGET_TASK_RELY.get(t)?.get(k)?.add(task);\n}\nfunction removeRely(task: LazyTask) {\n  const t = TASK_TARGET_RELY.get(task);\n  TASK_TARGET_RELY.delete(task);\n  t?.forEach((keys, target) => {\n    keys.forEach((key) => {\n      TARGET_TASK_RELY.get(target)?.get(key)?.delete(task);\n      if (TARGET_TASK_RELY.get(target)?.get(key)?.size === 0) {\n        TARGET_TASK_RELY.get(target)?.delete(key);\n      }\n      if (TARGET_TASK_RELY.get(target)?.size === 0) {\n        TARGET_TASK_RELY.delete(target);\n      }\n    });\n  });\n}\n\nonLazyable(\"get\", (t, k, v) => {\n  // 任务得允许被记录\n  if (\n    TMEP_RUNNING_TASK &&\n    TMEP_RUNNING_TASK.canRecord(t, k as string | number, v)\n  ) {\n    addRely(TMEP_RUNNING_TASK, t, k as string);\n  }\n});\nonLazyable(\"set\", (t, k, v, ov, isAdd) => {\n  TARGET_TASK_RELY.get(t)\n    ?.get(k as string)\n    ?.forEach((task) => {\n      task.restart([\n        {\n          target: t,\n          key: k,\n          type: isAdd ? \"add\" : \"set\",\n          value: v,\n          oldValue: ov,\n        },\n      ]);\n    });\n});\nonLazyable(\"delete\", (t, k, ov) => {\n  TARGET_TASK_RELY.get(t)\n    ?.get(k as string)\n    ?.forEach((task) => {\n      task.restart([\n        {\n          target: t,\n          key: k,\n          type: \"delete\",\n          value: undefined,\n          oldValue: ov,\n        },\n      ]);\n    });\n});\n","/**是否是代理对象 */\nexport const LAZYABLE_FLAG = Symbol(\"_$$__$$__is_lazyable\");\n/**是否是一个已经proxy */\nexport const LAZYABLED_FLAG = Symbol(\"_$$__$$__is_lazyabled\");\n/** 代理对象的原生对象属性标识 */\nexport const ORIGIN_TARGET_FLAG = Symbol(\"_$$__$$__origin_target_flag\");\n\nexport type LazyableGetHandlerType = (\n  object: any,\n  key: string | number | symbol,\n  value: any\n) => void;\nexport type LazyableSetHandlerType = (\n  object: any,\n  key: string | number | symbol,\n  value: any,\n  oldValue: any,\n  isAdd: boolean\n) => void;\nexport type LazyableDeleteHandlerType = (\n  object: any,\n  key: string | number | symbol,\n  oldValue: any\n) => void;\n\nexport type LazyableAddHandlerType = (\n  object: any,\n  key: string | number | symbol,\n  value: any\n) => void;\n\nexport type LazyableHandlerType =\n  | LazyableGetHandlerType\n  | LazyableSetHandlerType\n  | LazyableDeleteHandlerType\n  | LazyableAddHandlerType;\nexport type LazyableOptType = \"get\" | \"set\" | \"add\" | \"delete\";\n\n/**\n * 判断一个对象是否已经被代理过\n * @param value\n * @returns\n */\nexport function hasTargetLazyabled<T>(value: T): boolean {\n  if (!value || typeof value !== \"object\") return false;\n  const origin = getLazyableRawData(value);\n  const proto = (origin as any)?.__proto__;\n  if (!proto || !proto[LAZYABLE_FLAG]) return false;\n  return true;\n}\nexport function isLazyabledData(v: any): boolean {\n  return v && v[LAZYABLED_FLAG];\n}\n/**\n * 代理一个对象让它变得可以被监听\n * @param value 需要被监听的值\n */\ntype LazyableKeyType = {\n  include?: (string | symbol)[];\n  exclude?: (string | symbol)[];\n};\nfunction canKeyLazyable(\n  k: string | symbol,\n  { include, exclude }: LazyableKeyType = {}\n) {\n  if (exclude && exclude.includes(k)) return false;\n  if (include) {\n    return include.includes(k);\n  }\n  return true;\n}\n\nconst GET_HANDLERS_MAP = new Map<any, Set<LazyableGetHandlerType>>();\nconst SET_HANDLERS_MAP = new Map<any, Set<LazyableSetHandlerType>>();\nconst DELETE_HANDLERS_MAP = new Map<any, Set<LazyableDeleteHandlerType>>();\nconst ADD_HANDLERS_MAP = new Map<any, Set<LazyableSetHandlerType>>();\nfunction getHandlersMapByType(type: LazyableOptType) {\n  switch (type) {\n    case \"get\":\n      return GET_HANDLERS_MAP;\n    case \"set\":\n      return SET_HANDLERS_MAP;\n    case \"delete\":\n      return DELETE_HANDLERS_MAP;\n    case \"add\":\n      return ADD_HANDLERS_MAP;\n  }\n}\nfunction onLazyableOpt(\n  map: Map<any, Set<any>>,\n  t: any = \"default\",\n  ...args: any[]\n) {\n  map.get(Raw(t))?.forEach((h) => h(...args));\n}\n\nconst LAZYABLE_GET_TRANSFORMERS: ((\n  v: any,\n  t: any,\n  k: string | number | symbol,\n  r?: any\n) => any)[] = [];\n\n// 转换获取值的逻辑\nexport function transformLazyable(\n  h: (v: any, t: any, k: string | number | symbol, r?: any) => any\n) {\n  LAZYABLE_GET_TRANSFORMERS.push(h);\n}\n\nexport function Lazyable<T extends object>(\n  value: T,\n  opt: LazyableKeyType = {}\n): T {\n  if (!value) return value;\n  if (typeof value !== \"object\") return value;\n  if (hasTargetLazyabled(value))\n    return (getLazyableRawData(value) as any)?.[LAZYABLE_FLAG];\n  const R: any = new Proxy(value, {\n    get(t, k, r) {\n      if (k === ORIGIN_TARGET_FLAG) return t;\n      if (k === LAZYABLED_FLAG) return true;\n      const v = Reflect.get(t, k, r);\n      if (!canKeyLazyable(k, opt)) {\n        return v;\n      }\n      const Rv = hasTargetLazyabled(v)\n        ? (getLazyableRawData(v) as any)?.[LAZYABLE_FLAG] // 已经是代理对象了 获取这个对象存储的代理结果\n        : v?.__proto__ === ([] as any).__proto__ ||\n          v?.__proto__ === ({} as any).__proto__ // 是一个普通的对象而非一个类\n        ? Lazyable(v) // 响应化\n        : v;\n      onLazyableOpt(GET_HANDLERS_MAP, t, t, k, Rv);\n      onLazyableOpt(GET_HANDLERS_MAP, \"default\", t, k, Rv);\n      return LAZYABLE_GET_TRANSFORMERS.reduce(\n        (lastv, h) => h(lastv, t, k, R),\n        Rv\n      );\n    },\n    set(t, k, v, r) {\n      const isAdd = !t.hasOwnProperty(k);\n      const oldValue = Reflect.get(t, k);\n      // 将原生的值放进去\n      const res = Reflect.set(t, k, getLazyableRawData(v), r);\n      onLazyableOpt(SET_HANDLERS_MAP, t, t, k, v, oldValue, isAdd);\n      onLazyableOpt(SET_HANDLERS_MAP, \"default\", t, k, v, oldValue, isAdd);\n      if (isAdd) {\n        onLazyableOpt(ADD_HANDLERS_MAP, t, t, k, v, oldValue, isAdd);\n        onLazyableOpt(ADD_HANDLERS_MAP, \"default\", t, k, v, oldValue, isAdd);\n      }\n      return res;\n    },\n    deleteProperty(t, p) {\n      const oldValue = Reflect.get(t, p);\n      const res = Reflect.deleteProperty(t, p);\n      onLazyableOpt(DELETE_HANDLERS_MAP, t, t, p, oldValue);\n      onLazyableOpt(DELETE_HANDLERS_MAP, \"default\", t, p, oldValue);\n\n      return res;\n    },\n  });\n  // 在原生对象中记录这个代理对象 保证所有的原生对象其实指向同一个代理对象 是否有必要 有待实践\n  (value as any).__proto__ = new Proxy(Array.isArray(value) ? [] : {}, {\n    get(t, k, v) {\n      if (k === LAZYABLE_FLAG) return R;\n      return Reflect.get(t, k, v);\n    },\n  });\n  return R;\n}\n\n/**\n * 获取一个被代理过的对象的原始数据\n * @param value\n * @returns\n */\nexport function getLazyableRawData<T>(value: T): T {\n  return (value as any)?.[ORIGIN_TARGET_FLAG] || value;\n}\n\nexport const Raw = getLazyableRawData;\n\n/**\n * 让一个值变得可被代理\n * @param value\n */\n\nexport function Ref<T>(value: T): { value: T } {\n  return Lazyable({ value });\n}\n\nexport function onLazyable(\n  type: \"get\",\n  t: any,\n  h: LazyableGetHandlerType\n): () => void;\nexport function onLazyable(type: \"get\", h: LazyableGetHandlerType): () => void;\nexport function onLazyable(\n  type: \"set\",\n  t: any,\n  h: LazyableSetHandlerType\n): () => void;\nexport function onLazyable(type: \"set\", h: LazyableSetHandlerType): () => void;\nexport function onLazyable(\n  type: \"add\",\n  t: any,\n  h: LazyableAddHandlerType\n): () => void;\nexport function onLazyable(type: \"add\", h: LazyableAddHandlerType): () => void;\nexport function onLazyable(\n  type: \"delete\",\n  t: any,\n  h: LazyableDeleteHandlerType\n): () => void;\nexport function onLazyable(\n  type: \"delete\",\n  h: LazyableDeleteHandlerType\n): () => void;\nexport function onLazyable(type: LazyableOptType, t: any, h?: any) {\n  if (!h) {\n    const temp = t;\n    t = \"default\";\n    h = temp;\n  } else {\n    t = Raw(t);\n  }\n  const map = getHandlersMapByType(type);\n  if (!map) return () => {};\n  if (!map.has(t)) {\n    map.set(t, new Set());\n  }\n  map.get(t)?.add(h);\n  return () => {\n    map.get(t)?.delete(h);\n    if (map.get(t)?.size === 0) map.delete(t);\n  };\n}\n\nexport function State() {\n  return (target: any, property: string) => {\n    // 获取描述符\n    let value = target[property];\n    /**\n     * 当用户设置属性的时候 就相当于在设置temp的属性\n     * 获取属性的时候 获取的也是temp的属性\n     * 因此在记录的时候就能够自动的去发送事件而不用自己单独的去\n     */\n    const temp = Lazyable({\n      [property]: value,\n    } as any);\n    Object.defineProperty(target, property, {\n      get() {\n        return temp[property];\n      },\n      set(v) {\n        temp[property] = v;\n      },\n    });\n  };\n}\n","import { Component, COMPONENT_FLAG } from \"./Component\";\nimport { ITextElement, PropType, IDomPosition } from \"./common\";\n\nimport { FunctionalProp, FunctionalValue, IDomElement } from \"./common\";\nimport { lazyDocument } from \"./Document\";\nimport { Lazyable, onLazyable, Raw } from \"./Lazyable\";\nimport { flattern } from \"./utils\";\nimport { LazyTask, runExcludeTask } from \"./LazyTask\";\nimport { LazyProp } from \"./LazyProp\";\n\nlet FunctionalComponentIndex = 0;\nlet TempRunningFunctionalComponent = 0;\nconst FunctionalComponentStoreMap = new Map<\n  number,\n  {\n    lazyableData: Record<string, any>[]; // 初始化的数据\n    inited: boolean; // 是否已经初始化\n    lazyableDataIndex: number; // 当前index\n    unmount: (() => void)[]; // 卸载的时候的回调\n    mounted: (() => void)[]; // 组件已装载\n  }\n>();\n\nexport type ElementResultType =\n  | VirtualElement\n  | string\n  | number\n  | undefined\n  | null\n  | FunctionalValue\n  | Array<ElementResultType>;\n\nexport type FormattedElementResultType =\n  | VirtualElement\n  | ITextElement\n  | Array<FormattedElementResultType>;\n\nexport type ComponentType =\n  | typeof Component\n  | FunctionalComponent<any>\n  | string\n  | \"fragment\";\nexport type FunctionalComponent<P extends PropType> = (\n  p?: P\n) => ElementResultType;\nexport default class VirtualElement {\n  private result?: FormattedElementResultType;\n  private mainTask?: LazyTask<IDomElement[]>;\n  isComponent = false;\n  isFunction = false;\n  isFragment = false;\n  isNative = false;\n  native?: IDomElement;\n  Prop?: LazyProp;\n  instance?: Component<PropType>;\n\n  getKey() {\n    return runExcludeTask(() => {\n      return this.key?.();\n    });\n  }\n  constructor(\n    public id: number | string,\n    public key: FunctionalValue | undefined,\n    public component: ComponentType,\n    public props: FunctionalProp[],\n    public children: FunctionalValue[]\n  ) {}\n  private execComponent(): IDomElement[] {\n    this.mainTask = new LazyTask<IDomElement[]>(\n      (o1) => {\n        // instance 要在prop之前 因为prop中要处理ref\n        const unmount: (() => void)[] = [];\n        o1.except(() => {\n          this.instance = new (this.component as typeof Component)();\n          this.Prop = new LazyProp(this);\n          (this.instance as any)._prop = this.Prop.getProp();\n          const r = this.instance.onCreated?.();\n          if (r && typeof r === \"function\") {\n            unmount.push(r);\n          }\n        });\n        const renderTask = new LazyTask(\n          (o2) => {\n            const result = this.instance?.render();\n            // 第一次运行 直接赋值\n            if (o2.runTime === 1) {\n              const fr = formatResult(result);\n              // 别忘了要执行以下\n              o1.setData(renderResult(fr));\n              const r = this.instance?.onMounted();\n              if (r && typeof r === \"function\") {\n                unmount.push(r);\n              }\n              this.result = fr;\n            } else {\n              // 非第一次，要比较 并返回最新结果\n              const { result: Res, elements } = diffResult(\n                formatResult(result),\n                this.result!\n              );\n              this.result = Res;\n              if (elements && elements.length > 0) {\n                o1.setData(elements);\n              }\n            }\n          },\n          { debounce: 10 }\n        );\n        return () => {\n          // 停止属性的监听\n          this.Prop?.stop();\n          // 停止渲染任务\n          renderTask.stop();\n          this.instance?.onUnMounted();\n          unmount.forEach((r) => r());\n        };\n      },\n      { maxRunTime: 1 }\n    );\n    return this.mainTask.getData() || [];\n  }\n  private execFunctional(): IDomElement[] {\n    this.mainTask = new LazyTask<IDomElement[]>(\n      (o1) => {\n        this.Prop = new LazyProp(this);\n        // 设置当前函数组件的一个唯一ID\n        const ThisFunctionalIndex = ++FunctionalComponentIndex;\n        const prop = this.Prop?.getProp();\n        const renderTask = new LazyTask(\n          (o2) => {\n            // 执行函数 支持hooks基础功能\n            const result = execFunctionalComponent(ThisFunctionalIndex, () =>\n              (this.component as FunctionalComponent<PropType>)(prop)\n            );\n            if (o2.runTime === 1) {\n              const fr = formatResult(result);\n              o1.setData(renderResult(fr));\n              this.result = fr;\n              const data = FunctionalComponentStoreMap.get(ThisFunctionalIndex);\n              if (data) {\n                data.mounted.forEach((u) => u());\n              }\n            } else {\n              const { result: Res, elements } = diffResult(\n                formatResult(result),\n                this.result!\n              );\n              this.result = Res;\n              if (elements && elements.length > 0) {\n                o1.setData(elements);\n              }\n            }\n            return () => {\n              const data = FunctionalComponentStoreMap.get(ThisFunctionalIndex);\n              data?.unmount.forEach((u) => u());\n              FunctionalComponentStoreMap.delete(ThisFunctionalIndex);\n            };\n          },\n          { debounce: 10 }\n        );\n        return () => {\n          this.Prop?.stop();\n          renderTask.stop();\n        };\n      },\n      {\n        maxRunTime: 1,\n      }\n    );\n    return this.mainTask.getData() || [];\n  }\n  private execFragment(): IDomElement[] {\n    this.mainTask = new LazyTask<IDomElement[]>(\n      (o1) => {\n        // 这是被处理过的fragment\n        this.Prop = new LazyProp(this);\n        const prop = this.Prop.getProp();\n        o1.addSubTask(\n          new LazyTask(\n            (o2) => {\n              if (typeof this.id === \"string\") {\n                const children = prop.children || [];\n                if (children.length <= 0)\n                  throw new Error(\"formatted fragment can not be Empty\");\n                const h = children[0] as FunctionalValue;\n                const res = h();\n                const fr = formatResult(res);\n                if (o2.runTime === 1) {\n                  o1.setData(renderResult(fr));\n                  this.result = fr;\n                } else {\n                  const { result: Res, elements } = diffResult(\n                    fr,\n                    this.result!\n                  );\n                  this.result = Res;\n                  if (elements && elements.length > 0) {\n                    o1.setData(elements);\n                  }\n                }\n              } else {\n                if (o2.runTime === 1) {\n                  const children = prop.children as VirtualElement[];\n                  o1.setData(flattern(children.map((i) => renderResult(i))));\n                  this.result = children;\n                } else {\n                  const { result } = diffResult(\n                    prop.children as VirtualElement[],\n                    this.result!\n                  );\n                  this.result = result;\n                }\n              }\n            },\n            { debounce: true } // DEBOUNCE必不可少 否则数组变化时可能出现问题\n          )\n        );\n      },\n      { maxRunTime: 1 }\n    );\n    return this.mainTask.getData() || [];\n  }\n  private execNative(): IDomElement[] {\n    this.mainTask = new LazyTask<IDomElement[]>(\n      (o1) => {\n        const component = this.component as string;\n        this.native = lazyDocument.createElement(component);\n        this.Prop = new LazyProp(this);\n        o1.setData([this.native!]);\n        const prop = this.Prop.getProp();\n        const rawProp = Raw(prop);\n        const handle = (p: string, cb: (t: LazyTask) => void) => {\n          if (p === \"children\") {\n            // children的需要特殊处理\n            return new LazyTask<VirtualElement[]>(\n              (o3) => {\n                if (rawProp.hasOwnProperty(p)) {\n                  if (o3.runTime === 1) {\n                    // 第一次运行 执行结果\n                    const elemets = flattern(\n                      prop.children?.map((i) =>\n                        renderResult(i as VirtualElement)\n                      )!,\n                      1\n                    );\n                    this.result = Raw(prop.children as VirtualElement[]);\n                    // 将结果添加到dom中\n                    this.native?.append(elemets);\n                    // 存储下旧的值\n                  } else {\n                    const { result } = diffResult(\n                      prop.children! as VirtualElement[],\n                      this.result!\n                    );\n                    this.result = Raw(result);\n                    // o3.setData(diffResult(prop.children, o3.getData()).result);\n                  }\n                } else {\n                  // children没了  要卸载掉\n                  unmountResult(this.result || []);\n                  this.result = undefined;\n                  cb(o3.getTask());\n                }\n              },\n              { debounce: 10 }\n            );\n          } else {\n            // 正常的属性\n            return new LazyTask((o3) => {\n              // 对于children要做特殊心理\n              if (rawProp.hasOwnProperty(p)) {\n                const newV = prop[p];\n                const oldV = o3.getData();\n                if (newV !== oldV) {\n                  this.native?.removeAttribute(p, oldV);\n                  o3.setData(newV);\n                  // 设置属性\n                  this.native?.setAttribute(p, prop[p]);\n                }\n              } else {\n                // 移除属性\n                cb(o3.getTask());\n              }\n              return (isStop) =>\n                isStop && this.native?.removeAttribute(p, o3.getData());\n            });\n          }\n        };\n        const renderTask = new LazyTask((o2) => {\n          // 处理所有的属性 同时要注意新增属性的情况\n          const unsub = onLazyable(\"add\", prop, (t, k) => {\n            o2.addSubTask(\n              handle(k as string, (t) => o2.removeSubTask(t, true))\n            );\n          });\n          for (let i in prop) {\n            o2.addSubTask(handle(i, (t) => o2.removeSubTask(t, true)));\n          }\n          return () => {\n            // 停止所有的任务\n            unsub();\n          };\n        });\n        return () => {\n          this.Prop?.stop();\n          renderTask.stop();\n        };\n      },\n      {\n        maxRunTime: 1,\n      }\n    );\n    return this.mainTask.getData() || [];\n  }\n  stop() {\n    this.mainTask?.stop();\n    this.mainTask = undefined;\n  }\n  exec(): IDomElement[] {\n    if (this.component && (this.component as any)[COMPONENT_FLAG]) {\n      this.isComponent = true;\n      return this.execComponent();\n    } else if (typeof this.component === \"function\") {\n      this.isFunction = true;\n      return this.execFunctional();\n    } else if (this.component === \"fragment\") {\n      this.isFragment = true;\n      return this.execFragment();\n    } else if (typeof this.component === \"string\") {\n      this.isNative = true;\n      return this.execNative();\n    }\n    return [];\n  }\n  getElements(): IDomElement[] {\n    return getElements(formatResult(this.result));\n  }\n  unmount(): IDomPosition | undefined {\n    // 先停止任务\n    this.stop();\n    if (this.isNative) {\n      const position = lazyDocument.getPosition([this.native!]);\n      this.native?.remove();\n      return position;\n    } else {\n      return this.result && unmountResult(this.result);\n    }\n  }\n}\n\n/**\n * 格式化返回结果\n * @param result\n * @returns\n */\nexport function formatResult(\n  result: ElementResultType | FormattedElementResultType\n): FormattedElementResultType {\n  if (Array.isArray(result) && result.length > 0) {\n    return result.map((i: any) => formatResult(i));\n  } else if (lazyDocument.isTextElement(result)) {\n    return result as ITextElement;\n  } else if (result instanceof VirtualElement) {\n    return result;\n  } else if (typeof result === \"function\") {\n    return formatResult(result());\n  }\n  return lazyDocument.createTextElement(JSON.stringify(result));\n}\n\n/**\n * 对于返回的结果进行解析\n * @param result\n * @returns\n */\nexport function renderResult(\n  _result: FormattedElementResultType\n): IDomElement[] {\n  const result = Raw(_result);\n  if (Array.isArray(result)) {\n    return flattern(\n      result.map((i) => renderResult(i)),\n      1\n    );\n  } else if (result instanceof VirtualElement) {\n    return result.exec();\n  }\n  return [result];\n}\n\n/**\n * 获取格式化后的节点数据\n * @param result\n * @param exec\n * @returns\n */\nexport function getElements(result: FormattedElementResultType): IDomElement[] {\n  if (Array.isArray(result)) {\n    return flattern(\n      result.map((i) => getElements(i)),\n      -1\n    );\n  } else if (result instanceof VirtualElement) {\n    if (result.isNative) return [result.native!];\n    return result.getElements();\n  }\n  return [result as ITextElement];\n}\n\nexport function unmountResult(\n  result: FormattedElementResultType\n): IDomPosition | undefined {\n  if (Array.isArray(result)) {\n    const positions = result.map((r) => unmountResult(r));\n    return positions[positions.length - 1];\n  } else if (result instanceof VirtualElement) {\n    return result.unmount();\n  } else {\n    const position = lazyDocument.getPosition([result]);\n    result.remove();\n    return position;\n  }\n}\n\n/**\n * 执行函数组件时所作的操作\n * execFunctionalComponent(1, () => SomeCom(prop))\n * @param func\n */\nfunction execFunctionalComponent<P extends PropType>(\n  index: number,\n  func: () => ElementResultType\n) {\n  // 初始化函数组件的数据\n  const lastRunningComponent = TempRunningFunctionalComponent;\n  TempRunningFunctionalComponent = index;\n  if (!FunctionalComponentStoreMap.has(TempRunningFunctionalComponent)) {\n    FunctionalComponentStoreMap.set(TempRunningFunctionalComponent, {\n      lazyableData: [],\n      inited: false,\n      lazyableDataIndex: 0,\n      unmount: [],\n      mounted: [],\n    });\n  }\n  // 执行\n  const result = func();\n  const data = FunctionalComponentStoreMap.get(TempRunningFunctionalComponent)!;\n  if (!data.inited) {\n    data.inited = true;\n  }\n  data.lazyableDataIndex = 0; // 重置下标\n  TempRunningFunctionalComponent = lastRunningComponent;\n  return result;\n}\n\nfunction assertInFunctionComponent() {\n  if (!TempRunningFunctionalComponent)\n    throw new Error(\"useLazyable only support functional component!\");\n}\n\n// 使用响应值\nexport function useLazyable<T extends Record<string, any>>(initialValue: T): T {\n  assertInFunctionComponent();\n  const data = FunctionalComponentStoreMap.get(TempRunningFunctionalComponent)!;\n  let returnValue: T;\n  if (data.inited) {\n    returnValue = data.lazyableData[data.lazyableDataIndex] as T;\n    data.lazyableDataIndex++;\n  } else {\n    returnValue = Lazyable(initialValue);\n    data.lazyableData.push(returnValue);\n  }\n  return returnValue!;\n}\n\n// 使用初始化钩子\nexport function useCreated(func: () => void | (() => void)) {\n  assertInFunctionComponent();\n  const data = FunctionalComponentStoreMap.get(TempRunningFunctionalComponent)!;\n  if (!data.inited) {\n    const result = func();\n    if (result && typeof result === \"function\") {\n      data.unmount.push(result);\n    }\n  }\n}\n\n// 下载时使用的函数\nexport function useUnMounted(func: () => void) {\n  assertInFunctionComponent();\n  const data = FunctionalComponentStoreMap.get(TempRunningFunctionalComponent)!;\n  if (!data.inited) {\n    data.unmount.push(func);\n  }\n}\n\nexport function useMounted(func: () => void | (() => void)) {\n  assertInFunctionComponent();\n  const data = FunctionalComponentStoreMap.get(TempRunningFunctionalComponent)!;\n  if (!data.inited) {\n    data.mounted.push(() => {\n      const res = func();\n      if (res && typeof res === \"function\") data.unmount.push(res);\n    });\n  }\n}\n\n/**\n * @todo\n * @param newResult\n * @param oldResult\n * @returns\n */\nexport function diffResult(\n  newResult: FormattedElementResultType,\n  oldResult: FormattedElementResultType\n): { result: FormattedElementResultType; elements?: IDomElement[] } {\n  // 都是虚拟DOM 看类型是否一样\n  if (\n    newResult instanceof VirtualElement &&\n    oldResult instanceof VirtualElement &&\n    newResult.component === oldResult.component\n  ) {\n    oldResult.Prop?.update(newResult.id, newResult.props, newResult.children);\n    return { result: oldResult };\n  } else if (Array.isArray(newResult) && Array.isArray(oldResult)) {\n    const oldKeymap = new Map<any, Map<any, number>>();\n    const oldRestIndexes = new Set<number>();\n    const usedOldIndex = new Set<number>();\n    oldResult.forEach((r, index) => {\n      if (r instanceof VirtualElement) {\n        const key = r.getKey();\n        if (\n          !oldKeymap.has(r.component) ||\n          !oldKeymap.get(r.component)?.has(key)\n        ) {\n          if (!oldKeymap.has(r.component)) {\n            oldKeymap.set(r.component, new Map());\n          }\n          if (!oldKeymap.get(r.component)?.has(key)) {\n            oldKeymap.get(r.component)?.set(key, index);\n          }\n          return;\n        }\n      }\n      oldRestIndexes.add(index);\n    });\n    // 先获取第一个元素\n    let positionIndex = 0;\n    let elements = getElements(oldResult[positionIndex]);\n    let nextElement: IDomElement | null = elements[0];\n    let parent = nextElement?.parent;\n    const newReturnResult: FormattedElementResultType = [];\n    const returnElements: (IDomElement | IDomElement[])[] = [];\n    for (let i = 0; i < newResult.length; i++) {\n      const r = newResult[i];\n      if (r instanceof VirtualElement) {\n        const key = r.getKey();\n        // 存在key 之所以单独把key在这里 是为了使用key变量 避免不必要的函数计算\n        if (key !== undefined && key !== null) {\n          const component = r.component;\n          // component 和 key都必须相同 否则就是替换\n          if (oldKeymap.has(component) && oldKeymap.get(component)?.has(key)) {\n            // 在旧的结果中存在这个值\n            const oldPosition = oldKeymap.get(component)?.get(key)!;\n            // 删除 防止之后又重复的key\n            const keys = oldKeymap.get(component);\n            keys?.delete(key);\n            if (keys?.size === 0) {\n              oldKeymap.delete(component);\n            }\n            usedOldIndex.add(oldPosition);\n            const or = oldResult[oldPosition] as VirtualElement;\n            or.Prop?.update(r.id, r.props, r.children);\n            newReturnResult.push(or);\n            const newElements = or.getElements();\n            returnElements.push(newElements);\n            // 老结果的位置就是当前nextElement所在的那个index的位置  那就更新老结果\n            if (oldPosition === positionIndex) {\n              while (positionIndex < oldResult.length) {\n                positionIndex++;\n                if (positionIndex >= oldResult.length) {\n                  nextElement = elements[elements.length - 1].nextSibling;\n                  parent = nextElement?.parent || null;\n                } else if (!usedOldIndex.has(positionIndex)) {\n                  // 这个位置的元素可能已经被用过了 要忽略\n                  // 如果这个位置没被用过 那就要用起来\n                  elements = getElements(oldResult[positionIndex]);\n                  nextElement = elements[0];\n                  parent = nextElement.parent;\n                  // 跳出循环\n                  break;\n                }\n              }\n            } else {\n              // 在老结果中有对应的元素   不管在哪里 他肯定要移到nextElement前面\n              // newElements.forEach((r) => r.remove());\n              lazyDocument.insertElements(newElements, {\n                parent,\n                nextSibling: nextElement,\n                preSibling: nextElement?.preSibling || null,\n              });\n            }\n            continue;\n          }\n        }\n      }\n      // 渲染结果  获得DOM\n      const tempElements = renderResult(r);\n      // 保存结果\n      returnElements.push(tempElements);\n      // 插入DOM\n      parent?.insertBefore(tempElements, nextElement);\n      // 存储结果\n      newReturnResult.push(r);\n    }\n    // 别忘了把没用到的数据给删了\n    oldRestIndexes.forEach((i) => unmountResult(oldResult[i]));\n    oldKeymap.forEach((map) => map.forEach((i) => unmountResult(oldResult[i])));\n    return {\n      result: newReturnResult,\n      elements: flattern(returnElements),\n    };\n    /**\n     * 数组DIFF操作的逻辑\n     * 1. component + key相同才能算同一种类型\n     * 2. 其他的都不算 该删的删\n     */\n  } else if (\n    lazyDocument.isTextElement(newResult) &&\n    lazyDocument.isTextElement(oldResult) &&\n    (newResult as IDomElement).getText() ===\n      (oldResult as IDomElement).getText()\n  ) {\n    return { result: oldResult };\n  }\n  const position = unmountResult(oldResult);\n  if (!position) throw new Error(\"Old Virtual Element is Error!\");\n  const doms = renderResult(newResult);\n  lazyDocument.insertElements(doms, position);\n  return { result: newResult, elements: doms };\n}\n","import {\n  ComponentType,\n  ElementResultType,\n  renderResult,\n} from \"./VirtualElement\";\nimport {\n  FunctionalProp,\n  FunctionalValue,\n  IDocument,\n  IDomElement,\n} from \"./common\";\nimport VirtualElement from \"./VirtualElement\";\nimport { formatResult, getElements } from \"./VirtualElement\";\nimport { lazyDocument } from \"./Document\";\nimport HTMLDOMDrive from \"./LazyDom\";\nexport * from \"./utils\";\nexport * from \"./Document\";\nexport * from \"./common\";\nexport * from \"./Component\";\nexport * from \"./Lazyable\";\nexport * from \"./LazyTask\";\nexport * from \"./VirtualElement\";\n\nconst Lazyman = {\n  createElement(\n    id: number,\n    key: FunctionalValue,\n    component: ComponentType,\n    props: FunctionalProp[],\n    children: FunctionalValue[]\n  ) {\n    return new VirtualElement(id, key, component, props, children);\n  },\n  document: lazyDocument,\n  // 加载驱动\n  drive(d: IDocument = HTMLDOMDrive) {\n    Object.assign(lazyDocument, d);\n  },\n  render(ele: ElementResultType, container: IDomElement) {\n    if (!container) throw new Error(\"container is Emptry\");\n    const format = formatResult(ele);\n    container.append(renderResult(format));\n  },\n};\n\nexport default Lazyman;\n(window as any).Lazyman = Lazyman;\n\nexport { Lazyman };\n","import { equal } from \"./Object\";\n/**\n * 用来判断参数是否一致的类\n * timeout 超时时间\n */\nexport default class CacheArgs {\n  argsDataList: ArgsData[] = [];\n  constructor(private timeout = 1000, private level = 1) {}\n\n  /**\n   * 添加新的参数\n   * 若返回true 表示这个参数已存在\n   * 若返回false 表示这个参数已经不存在\n   * @param args 传入的args\n   * @returns ArgsData\n   */\n  getArgs(args: any[] = []): ArgsData | undefined {\n    return this.argsDataList.find((data) => data.isSame(args, this.level));\n  }\n\n  /**\n   * 添加新的args\n   * @param args\n   * @returns\n   */\n  addArgs(args: any[] = [], onTimeout?: (v: any) => void) {\n    const old = this.getArgs(args);\n    if (old) {\n      return old;\n    }\n    const newData = new ArgsData(args, this);\n    this.argsDataList.push(newData);\n    if (this.timeout >= 0) {\n      setTimeout(() => {\n        const value = newData.getValue();\n        this.remove(newData);\n        newData.clear();\n        onTimeout?.(value);\n      }, this.timeout);\n    }\n    return newData;\n  }\n  remove(argsData: ArgsData) {\n    this.argsDataList = this.argsDataList.filter((i) => i !== argsData);\n  }\n}\n\nexport class ArgsData {\n  valueMap = new Map<string, any>();\n  constructor(private args: any[] = [], private cache: CacheArgs) {}\n  /**\n   * 判断是否是相同的参数\n   * @param args 传入的参数\n   * @returns boolean\n   */\n  clear() {\n    this.valueMap.clear();\n  }\n  isSame(args: any[] = [], level = 1) {\n    return equal(args, this.args, level);\n  }\n\n  setValue<T>(value: T, key = \"default\") {\n    this.valueMap.set(key, value);\n    return value;\n  }\n  getValue<T>(key = \"default\"): T {\n    return this.valueMap.get(key);\n  }\n}\n","import { min } from \"./number\";\n\nexport interface IArrayDiff<T> {\n  deleted: T[];\n  added: T[];\n  keep: T[];\n}\n/**\n * 比较两个数组的异同\n * @param oData 对比的数组(旧的，基数)\n * @param nData 对比的数组\n * @param getValue 获取数组的key\n * @returns\n */\nexport function findArrayDiff<T, K>(\n  oData: T[],\n  nData: T[],\n  getValue: (v: T) => K = (v) => v as any\n) {\n  const oMap = new Map<K, T>();\n  oData.forEach((d) => oMap.set(getValue(d), d));\n  const result: IArrayDiff<T> = {\n    deleted: [],\n    added: [],\n    keep: [],\n  };\n  nData.forEach((d) => {\n    const v = getValue(d);\n    if (!oMap.has(v)) {\n      result.added.push(d);\n    } else {\n      result.keep.push(d);\n    }\n    oMap.delete(v);\n  });\n  oMap.forEach((d) => result.deleted.push(d));\n  return result;\n}\n\n/**\n * 自动生成数组成\n * @param size 数组的大小\n * @param gene 生成数组的逻辑\n * @returns\n */\nexport function generateArray<T>(size: number, gene: (index: number) => T) {\n  const arr: T[] = [];\n  for (let i = 0; i < size; i++) {\n    arr.push(gene(i));\n  }\n  return arr;\n}\n\n/**\n * 将一堆数组转换成有关系的树\n * @param nodes 所有的节点\n * @param param1 生成树的逻辑\n * @returns\n */\nexport function generateTreeByArray<T, K = T>(\n  nodes: T[],\n  {\n    id = \"id\",\n    children = \"children\",\n    parent = \"parent_id\",\n  }: { children?: string; id?: string; parent?: string }\n): K[] {\n  const res: K[] = [];\n  const map = new Map<any, any>();\n  const cache = new Map<any, any[]>();\n  for (let i in nodes) {\n    const node: any = nodes[i];\n    // 这表示 之前有人用到我了\n    if (cache.has(node[id])) {\n      node[children] = cache.get(node[id]);\n      // 可以删掉了 不需要了\n      cache.delete(node[id]);\n    }\n    // 不存在父节点\n    const parentId = node[parent];\n    if (!parentId) {\n      res.push(node);\n    } else {\n      // 存在父节点，我要找到它的父节点\n      if (map.has(parentId)) {\n        const parentNode = map.get(parentId);\n        if (!parentNode[children]) {\n          parentNode[children] = [];\n        }\n        parentNode[children].push(node);\n      } else {\n        // 糟了，map里面还没有这个父节点，那么我存储下\n        if (!cache.has(parentId)) {\n          cache.set(parentId, []);\n        }\n        // 推进去\n        cache.get(parentId)?.push(node);\n      }\n    }\n    map.set(node[id], node);\n  }\n  return res;\n}\n\n/**\n * 将一个数组转换成一个map\n * @param arr 数组\n * @param getKey 每个item的key值获取逻辑\n * @returns\n */\nexport function toMap<T, K>(arr: T[], getKey: (i: T) => K) {\n  const map = new Map<K, T>();\n  arr.forEach((i) => {\n    const key = getKey(i);\n    map.set(key, i);\n  });\n  return map;\n}\n\n/**\n * 讲一个数组以size为一组组成新的数组\n * @param arr 需要处理的函数\n * @param size 组的大小\n * @returns\n */\nexport function chunk<T>(arr: T[], size: number) {\n  const res: T[][] = [];\n  let temp: T[] = [];\n  for (let i = 0; i < arr.length; i++) {\n    const tail = i % size;\n    if (tail === 0) {\n      temp = [];\n      res.push(temp);\n    }\n    temp.push(arr[i]);\n  }\n  return res;\n}\n\n/**\n * 将一个复杂的嵌套着的数组展开\n * @param arr\n * @param level\n * @returns\n */\nexport function flattern<K = any, T = any>(arr: T[], level = 1): K[] {\n  if (level === 0) return arr as any;\n  const res: K[] = [];\n  for (let i = 0; i < arr.length; i++) {\n    const value = arr[i];\n    if (Array.isArray(value)) {\n      flattern<K, T>(value, level - 1).forEach((t) => res.push(t));\n    } else {\n      res.push(value as any);\n    }\n  }\n  return res;\n}\n\n/**\n * 把a2的值 赋值给a1\n * 希望的是直接改变里面的内容\n * 1. a1比较长的话 需要把多出的元素删除\n * 2. a1比较短的话 需要新增元素\n * @param a1\n * @param a2\n * @returns\n */\nexport function mergeArray(a1: any[], a2: any[]) {\n  const l1 = a1.length;\n  const l2 = a2.length;\n  const minL = min(l1, l2);\n  for (let i = 0; i < minL; i++) {\n    a1[i] = a2[i];\n  }\n  // 说明a2小一点\n  if (l1 > minL) {\n    for (let i = minL; i < l1; i++) {\n      a1.pop();\n    }\n  }\n  // 说明a1小一点\n  if (l2 > minL) {\n    for (let i = minL; i < l2; i++) {\n      a1.push(a2[i]);\n    }\n  }\n  return a1;\n}\n","/**\n * @author [qianzhixiang]\n * @email [zxqian199@163.com]\n * @create date 2021-04-24 09:04:40\n * @modify date 2021-04-24 09:04:40\n * @desc [异步相关的处理]\n */\n\nimport { resolve } from \"node:path\";\n\nexport class XPromise {\n  private promise?: Promise<any>;\n  resolve?: (v?: any) => void;\n\n  reject?: (v?: any) => void;\n\n  constructor() {\n    this.init();\n  }\n\n  private init() {\n    this.promise = new Promise((resolve, reject) => {\n      this.resolve = (p: any) => {\n        resolve(p);\n        return p;\n      };\n      this.reject = reject;\n    });\n  }\n  // 外界调用表示结束\n\n  async wait() {\n    return this.promise;\n  }\n}\n\n/**\n * Debounce逻辑控制\n * Debounce是一个调用过来后，并不立即执行，而是要等待一段时间，这段时间内要是没有新的调用 则执行 若是有 则重新开始计时知道没有新的请求\n */\nexport class Debounce {\n  private _timeSchedule: NodeJS.Timeout | number | null = null;\n\n  private _async = new XPromise();\n\n  wait() {\n    return this._async.wait();\n  }\n\n  constructor(private timeout = 50) {}\n\n  async execute(func: () => any) {\n    // 清空计时\n    clearTimeout(this._timeSchedule as any);\n    // 重新计时\n    this._timeSchedule = setTimeout(async () => {\n      // 到这里表示已经在触发处理函数了\n      const promise = func();\n      // 当处理结束的时候 重新设置promise 开始新的周期\n      this._async.wait().then(() => (this._async = new XPromise()));\n      if (promise && promise.catch) {\n        promise.catch((e: Error) => this._async.reject?.(e));\n      }\n      this._async.resolve?.(await promise);\n    }, this.timeout);\n\n    return this._async.wait();\n  }\n}\n\n/**\n * Throttle 有新的任务过来的时候 执行，不过，会忽略接下来一段时间的请求 防止过于频繁的请求\n */\nexport class Throttle {\n  private timeSchedule: NodeJS.Timeout | number | null = null;\n\n  private result: any;\n  private _async = new XPromise();\n\n  constructor(private timeout = 50) {}\n  wait() {\n    return this._async.wait();\n  }\n\n  // 这个时间段内的请求直接忽略\n  execute(func = () => {}) {\n    if (this.timeSchedule) {\n      return this.result;\n    }\n    this.timeSchedule = setTimeout(() => {\n      // 计时结束，这个周期结束\n      this.timeSchedule = null;\n      // 返回这个周期的值\n      this._async.resolve?.(this.result);\n      // 开启下一个周期\n      this._async = new XPromise();\n    }, this.timeout);\n    this.result = func();\n    return this.result;\n  }\n}\n\nexport function waitTime(time: number = 0) {\n  return new Promise((resolve) => setTimeout(() => resolve(true), time));\n}\n","import { XPromise, Throttle, Debounce, waitTime } from \"./Async\";\nimport CacheArgs from \"./Args\";\nimport { set } from \"./Object\";\n/**\n * @author [qianzhixiang]\n * @email [zxqian1991@163.com]\n * @create date 2019-12-12 10:04:00\n * @modify date 2019-12-12 10:04:00\n * @desc [自动绑定this]\n */\n\nexport function autobind(\n  target: any,\n  key: string,\n  { configurable, enumerable, set, value }: PropertyDescriptor\n) {\n  return {\n    configurable,\n    enumerable,\n    // value, 这个值设置后不能设置get set\n    set,\n    get() {\n      return value.bind(this);\n    },\n  };\n}\n\nexport function pendding() {\n  return (target: object, property: string, descriptor: PropertyDescriptor) => {\n    const map = new Map<any, XPromise>();\n    const value = descriptor.value;\n    descriptor.value = function () {\n      if (map.has(this)) {\n        return map.get(this)?.wait();\n      }\n      const promise = new XPromise();\n      map.set(this, promise);\n      promise.wait().then(() => map.delete(this));\n      return promise.resolve?.(value.apply(this, arguments));\n    };\n  };\n}\n\nexport function throttle(timeout = 300) {\n  return (target: object, property: string, descriptor: PropertyDescriptor) => {\n    const value = descriptor.value;\n    const map = new Map<any, Throttle>();\n    descriptor.value = function () {\n      if (map.has(this)) {\n        return map.get(this)?.wait();\n      }\n      const throttle = new Throttle(timeout);\n      map.set(this, throttle);\n      throttle.wait().then(() => map.delete(this));\n      return throttle.execute(() => value.apply(this, arguments));\n    };\n  };\n}\n\nexport function debounce(timeout = 300) {\n  return (target: object, property: string, descriptor: PropertyDescriptor) => {\n    const value = descriptor.value;\n    const map = new Map<any, Debounce>();\n    descriptor.value = function () {\n      if (map.has(this)) {\n        return map.get(this)?.wait();\n      }\n      const debounce = new Debounce(timeout);\n      map.set(this, debounce);\n      debounce.wait().then(() => map.delete(this));\n      return debounce.execute(() => value.apply(this, arguments));\n    };\n  };\n}\n/**\n * K Lazy所在的类的实例类型\n * T Lazy的返回数据类型\n * @param timeout cache 保存的时间\n * @returns\n */\nexport function lazy<K, T = any>(\n  timeout: number = 1000 * 60,\n  {\n    level = 1,\n    onSet,\n    onGet,\n    onTimeout,\n  }: {\n    level?: number;\n    // 设置缓存的时候调用\n    onSet?: (v: T, instance: K) => void;\n    // 获取缓存的时候调用\n    onGet?: (v: T, instance: K) => void;\n    // 缓存超时的时候调用\n    onTimeout?: (v: T, instance: K) => void;\n  } = {}\n) {\n  return (target: Object, property: string, descriptor: PropertyDescriptor) => {\n    const value = descriptor.value;\n    const cacheMap = new Map<any, CacheArgs>();\n    descriptor.value = function (...args: any[]) {\n      if (!cacheMap.has(this)) {\n        cacheMap.set(this, new CacheArgs(timeout, level));\n      }\n      const cache = cacheMap.get(this)!;\n      const argsData = cache.getArgs(args);\n      if (argsData) {\n        // 有这个数据 直接读历史数据\n\n        const v: any = argsData.getValue();\n        onGet?.(v, this);\n        return v;\n      }\n      // 没有 就缓存\n      const newArgsData = cache.addArgs(args, (v) => onTimeout?.(v, this));\n      const v: any = value.apply(this, args);\n      // 设置新值\n      newArgsData.setValue(v);\n      onSet?.(v, this);\n      return newArgsData.getValue();\n    };\n  };\n}\n\nconst countMap = new Map<any, number>();\nexport function loading<T = any>({\n  name = \"loading\",\n  ins,\n}: { name?: string; ins?: T } = {}) {\n  return (target: object, property: string, descriptor: PropertyDescriptor) => {\n    const value = descriptor.value;\n    descriptor.value = function () {\n      const instance: any = ins || this;\n      set(instance, name, true);\n      countMap.set(instance, (countMap.get(instance) || 0) + 1);\n      const _xp = new XPromise();\n      _xp.wait().finally(() => {\n        const count = countMap.get(instance)! - 1;\n        if (count === 0) {\n          countMap.delete(instance);\n          set(instance, name, false);\n        } else {\n          countMap.set(instance, count);\n        }\n      });\n      _xp.resolve?.(value.apply(this, arguments));\n      return _xp.wait();\n    };\n  };\n}\n","// ID 生成器\r\nexport class IdGenerator {\r\n  private id = 0;\r\n  private id_can_used: number[] = [];\r\n\r\n  getId(): number {\r\n    if (this.id_can_used.length > 0) return this.id_can_used.pop()!;\r\n    return ++this.id!;\r\n  }\r\n  // 释放ID\r\n  releaseId(id: number) {\r\n    if (this.id_can_used.length === id - 1) {\r\n      id = 0;\r\n      this.id_can_used = [];\r\n    } else {\r\n      this.id_can_used.push(id);\r\n    }\r\n  }\r\n  clear() {\r\n    this.id_can_used = [];\r\n    this.id = 0;\r\n  }\r\n}\r\n\r\n// 事件处理\r\nexport class EventEmitter {\r\n  private $idG = new IdGenerator();\r\n  private eventMap = new Map<string, number[]>();\r\n  private handlesMap = new Map<number, IEventEmitterHandler>();\r\n  unsubscribe(eventnames?: string | string[]) {\r\n    // 没有指定事件\r\n    if (eventnames === undefined) {\r\n      // this.eventMap.forEach((i, e) => this.unsubscribe(e));\r\n      this.$idG.clear();\r\n      this.eventMap.clear();\r\n      this.handlesMap.clear();\r\n      return;\r\n    }\r\n    if (!eventnames) {\r\n      throw new Error(\"参数错误：必须指定需要取消监听的事件\");\r\n    }\r\n    const type = typeof eventnames;\r\n    if (type !== \"string\" && Array.isArray(eventnames)) {\r\n      throw new Error(\"参数错误：必须是字符串或字符串数组\");\r\n    }\r\n    if (type === \"string\") {\r\n      const eventname = eventnames as string;\r\n      const ids = this.eventMap.get(eventname);\r\n      this.eventMap.delete(eventname);\r\n      ids?.forEach((id) => {\r\n        this.$idG.releaseId(id);\r\n        this.handlesMap.delete(id);\r\n      });\r\n      return;\r\n    }\r\n    (eventnames as string[])\r\n      .filter((e) => e)\r\n      .forEach((eventname) => this.unsubscribe(eventname));\r\n  }\r\n  on(eventname: string, handler: IEventEmitterHandler) {\r\n    if (!this.eventMap.has(eventname)) {\r\n      this.eventMap.set(eventname, []);\r\n    }\r\n    const eventArr = this.eventMap.get(eventname)!;\r\n    const eventId = this.$idG.getId();\r\n    eventArr.push(eventId);\r\n    this.handlesMap.set(eventId, handler);\r\n    return () => {\r\n      const arr = this.eventMap.get(eventname) || [];\r\n      const res = arr.filter((id) => id !== eventId);\r\n      if (res.length === 0) {\r\n        this.eventMap.delete(eventname);\r\n      }\r\n      this.handlesMap.delete(eventId);\r\n      this.$idG.releaseId(eventId);\r\n    };\r\n  }\r\n  emit(eventname: string, ...data: any[]) {\r\n    const eventIds = this.eventMap.get(eventname) || [];\r\n\r\n    eventIds.forEach((id) => this.handlesMap.get(id)?.(...data));\r\n  }\r\n  once(eventname: string, handler: IEventEmitterHandler) {\r\n    const unsubscribe = this.on(eventname, function (...args: any) {\r\n      unsubscribe();\r\n      return handler.apply(this, args);\r\n    });\r\n  }\r\n}\r\n\r\nexport type IEventEmitterHandler = (...data: any[]) => void;\r\n","export function get<K = any, T = any>(\n  v: T,\n  ...args: (string | string[])[]\n): K | undefined | null {\n  // 没有任何传参 原路返回\n  if (!args || args.length === 0) return v as any;\n  const type = typeof v;\n  if (v === null || type === \"undefined\") return v as any;\n  if (args.length === 1 && typeof args[0] === \"string\") {\n    return (v as any)[args[0] as string] as K;\n  }\n  let temp: any = v;\n  for (let i = 0; i < args.length; i++) {\n    const value = args[i];\n    temp = Array.isArray(value)\n      ? get<T, K>(temp, ...value)\n      : get<T, K>(temp, value);\n    if (temp === null || temp === undefined) return temp as K;\n  }\n  return temp as K;\n}\n\nexport function set<T, K = any>(v: T, key: string | number, value: K) {\n  if (typeof v === \"object\") {\n    (v as any)[key] = value;\n  }\n  return false;\n}\n\nexport function equal<T = any, K = any>(v1: T, v2: K, level = 0) {\n  const samePoint = (v1 as any) === (v2 as any);\n  // 相同 true\n  if (samePoint) return true;\n  // 只比较一层 false 走到这里肯定不等了\n  if (level === 0) return false;\n  const t1 = typeof v1;\n  const t2 = typeof v2;\n  if (t1 === t2 && t1 === \"object\") {\n    const keys1 = Object.keys(v1);\n    const keys2 = Object.keys(v2);\n    if (keys1.length !== keys2.length) return false;\n    for (let i in keys1) {\n      const key = keys1[i];\n      if (!equal((v1 as any)[key], (v2 as any)[key], level - 1)) return false;\n    }\n    return true;\n  }\n  return false;\n}\n\nexport function omit<T>(\n  v: Record<string, T>,\n  ks: string | string[]\n): Record<string, T>;\nexport function omit<T>(\n  v: Record<string, T>,\n  shouldOmit: (v: T, key: string) => boolean\n): Record<string, T>;\nexport function omit<T>(\n  v: Record<string, T>,\n  condition: string | string[] | ((v: T, key: string) => boolean)\n) {\n  const result: Record<string, T> = {};\n  for (let i in v) {\n    // 是否需要过滤出去\n    const _canOmit =\n      typeof condition === \"string\"\n        ? i === condition // 字符串是否相等\n        : Array.isArray(condition)\n        ? condition.some((c) => c === i) // 是否有这个字符串\n        : typeof condition === \"function\"\n        ? condition(v[i], i) // 是否满足条件\n        : false;\n    if (!_canOmit) {\n      // 不需要推出  那就留存\n      result[i] = v[i];\n    }\n  }\n  return result;\n}\n\nexport function pick<T>(\n  v: Record<string, T>,\n  ks: string | string[]\n): Record<string, T>;\nexport function pick<T>(\n  v: Record<string, T>,\n  shouldOmit: (v: T, key: string) => boolean\n): Record<string, T>;\nexport function pick<T>(\n  v: Record<string, T>,\n  condition: string | string[] | ((v: T, key: string) => boolean)\n) {\n  const result: Record<string, T> = {};\n  for (let i in v) {\n    // 是否需要过滤出去\n    const canPick =\n      typeof condition === \"string\"\n        ? i === condition // 字符串是否相等\n        : Array.isArray(condition)\n        ? condition.some((c) => c === i) // 是否有这个字符串\n        : typeof condition === \"function\"\n        ? condition(v[i], i) // 是否满足条件\n        : false;\n    if (canPick) {\n      // 不需要推出  那就留存\n      result[i] = v[i];\n    }\n  }\n  return result;\n}\nexport function joinObject(\n  object: Record<string, any>,\n  s: string,\n  h: (value: any, key: string) => string = (v, k) => `${k}=${v}`\n) {\n  let str = \"\";\n  let isFirst = true;\n  for (let i in object) {\n    const v = h(object[i], i);\n    str += !isFirst ? s : \"\" + v;\n    if (isFirst) {\n      isFirst = false;\n    }\n  }\n  return str;\n}\n","/**\n * @author [qianzhixiang]\n * @email [zxqian199@163.com]\n * @create date 2021-04-23 10:28:07\n * @modify date 2021-04-23 10:28:07\n * @desc [常用类型]]\n */\n\n/**\n * 是否是数字\n * @param v 任意值\n * @returns\n */\nexport function isNumber<T>(v: T) {\n  return typeof v === \"number\" && !isNaN(v);\n}\n\n/**\n * 是否是布尔值\n * @param v 任意值\n * @returns\n */\nexport function isBoolean<T>(v: T) {\n  return typeof v === \"boolean\";\n}\n\n/**\n * 是否是数组\n * @param v 任意值\n * @returns\n */\nexport function isArray<T>(v: T) {\n  return Array.isArray(v);\n}\n\n/**\n * 是否是null值\n * @param v 任意值\n * @returns\n */\nexport function isNull<T>(v: T) {\n  return v === null;\n}\nexport interface IsObjectOpt {\n  includeArr?: boolean; // 是否包含数组  默认包含\n  includeNull?: boolean; // 是否包含null 默认不包含\n}\n\n/**\n * 是否是对象\n * @param v 任意值\n * @param includeArr  是否包含数组\n * @param includeNull 是否包含控制\n */\nexport function isObject<T>(v: T, includeArr: boolean): boolean;\nexport function isObject<T>(v: T, includeArr: IsObjectOpt): boolean;\nexport function isObject<T>(v: T, opt: IsObjectOpt | boolean = {}) {\n  const _isObject = typeof v === \"object\";\n  if (!_isObject) return false;\n  if (isBoolean(opt)) {\n    return isObject(v, { includeArr: opt as boolean });\n  }\n  const { includeArr = true, includeNull = false } = opt as IsObjectOpt;\n  return (includeArr || !isArray(v)) && (includeNull || !isNull(v));\n}\n\n/**\n * 是否是符号\n * @param v 任意值\n * @returns\n */\nexport function isSymbol<T>(v: T) {\n  return typeof v === \"symbol\";\n}\n\n/**\n * 是否是字符串\n * @param v 任意值\n * @returns\n */\nexport function isString<T>(v: T) {\n  return typeof v === \"string\";\n}\n/**\n * 是否是空字符串\n * @param v 任意值\n * @returns\n */\nexport function isEmptyString<T>(v: T) {\n  return typeof v === \"string\" && v === \"\";\n}\n\n/**\n * 是否是集合\n * @param v 任意值\n * @returns\n */\nexport function isSet<T>(v: T) {\n  return v instanceof Set;\n}\n\n/**\n * 是否是map\n * @param v 任意值\n * @returns\n */\nexport function isMap<T>(v: T) {\n  return v instanceof Map;\n}\n\n/**\n * 是否是undefined\n * @param v 任意值\n * @returns\n */\nexport function isUndefined<T>(v: T) {\n  return typeof v === \"undefined\";\n}\n\n/**\n * 是否是null或者undefined\n * @param v 任意值\n * @returns\n */\nexport function isNil<T>(v: T) {\n  return isNull(v) || isUndefined(v);\n}\n\nexport interface IsEmptyOpt {\n  // 包含数组的空值\n  includeArr?: boolean;\n  // 包含普通对象\n  includeObject?: boolean;\n  //  包含数字\n  includeNumber?: boolean;\n  // 包含字符串\n  includeString?: boolean;\n  // 包含null\n  includeNull?: boolean;\n  // 包含undefined\n  includeUndefined?: boolean;\n}\n/**\n *\n * @param v 是否是空数组\n * @param param1\n * @returns\n */\nexport function isEmpty<T>(\n  v: T,\n  {\n    includeArr = true,\n    includeObject = true,\n    includeNumber = true,\n    includeString = true,\n    includeNull = true,\n    includeUndefined = true,\n  }: IsEmptyOpt = {}\n) {\n  return (\n    (includeNull && isNull(v)) ||\n    (includeUndefined && isUndefined(v)) ||\n    (includeString && isEmptyString(v)) ||\n    (includeNumber && typeof v === \"number\" && v === 0) ||\n    (includeArr && Array.isArray(v) && v.length === 0) ||\n    (includeObject && typeof v === \"object\" && Object.keys(v).length === 0)\n  );\n}\n","export * from \"./Args\";\nexport * from \"./Array\";\nexport * from \"./Async\";\nexport * from \"./Decorators\";\nexport * from \"./Object\";\nexport * from \"./interface\";\nexport * from \"./Type\";\nexport * from \"./EventEmitter\";\n\nimport * as Args from \"./Args\";\nimport * as Arr from \"./Array\";\nimport * as Async from \"./Async\";\nimport * as Decorators from \"./Decorators\";\nimport * as Obj from \"./Object\";\nimport * as Inter from \"./interface\";\nimport * as Type from \"./Type\";\nimport * as event from \"./EventEmitter\";\n\nexport default {\n  ...Args,\n  ...Arr,\n  ...Async,\n  ...Decorators,\n  ...Obj,\n  ...Inter,\n  ...Type,\n  ...event,\n};\n","/**\n * 比较一堆数据中最小的\n * @param a\n * @param args\n * @returns\n */\nexport function min(a: number, ...args: number[]): number {\n  if (!args || args.length <= 0) return a;\n  if (args.length === 1) {\n    const b = args[0];\n    return a > b ? b : a;\n  }\n  const b = min(args[0], ...args.slice(1));\n  return min(a, b);\n}\n\n/**\n * 比较一组中最大的\n * @param a\n * @param args\n * @returns\n */\nexport function max(a: number, ...args: number[]): number {\n  if (!args || args.length <= 0) return a;\n  if (args.length === 1) {\n    const b = args[0];\n    return a < b ? b : a;\n  }\n  const b = max(args[0], ...args.slice(1));\n  return max(a, b);\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\tif (cachedModule.error !== undefined) throw cachedModule.error;\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\ttry {\n\t\tvar execOptions = { id: moduleId, module: module, factory: __webpack_modules__[moduleId], require: __webpack_require__ };\n\t\t__webpack_require__.i.forEach(function(handler) { handler(execOptions); });\n\t\tmodule = execOptions.module;\n\t\texecOptions.factory.call(module.exports, module, module.exports, execOptions.require);\n\t} catch(e) {\n\t\tmodule.error = e;\n\t\tthrow e;\n\t}\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// expose the module cache\n__webpack_require__.c = __webpack_module_cache__;\n\n// expose the module execution interceptor\n__webpack_require__.i = [];\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","// This function allow to reference all chunks\n__webpack_require__.hu = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".\" + __webpack_require__.h() + \".hot-update.js\";\n};","__webpack_require__.hmrF = () => (\"main.\" + __webpack_require__.h() + \".hot-update.json\");","__webpack_require__.h = () => (\"bdebec0d9b1864f15dc8\")","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\n// data-webpack is not used as build has no uniqueName\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var currentModuleData = {};\nvar installedModules = __webpack_require__.c;\n\n// module and require creation\nvar currentChildModule;\nvar currentParents = [];\n\n// status\nvar registeredStatusHandlers = [];\nvar currentStatus = \"idle\";\n\n// while downloading\nvar blockingPromises;\n\n// The update info\nvar currentUpdateApplyHandlers;\nvar queuedInvalidatedModules;\n\n// eslint-disable-next-line no-unused-vars\n__webpack_require__.hmrD = currentModuleData;\n\n__webpack_require__.i.push(function (options) {\n\tvar module = options.module;\n\tvar require = createRequire(options.require, options.id);\n\tmodule.hot = createModuleHotObject(options.id, module);\n\tmodule.parents = currentParents;\n\tmodule.children = [];\n\tcurrentParents = [];\n\toptions.require = require;\n});\n\n__webpack_require__.hmrC = {};\n__webpack_require__.hmrI = {};\n\nfunction createRequire(require, moduleId) {\n\tvar me = installedModules[moduleId];\n\tif (!me) return require;\n\tvar fn = function (request) {\n\t\tif (me.hot.active) {\n\t\t\tif (installedModules[request]) {\n\t\t\t\tvar parents = installedModules[request].parents;\n\t\t\t\tif (parents.indexOf(moduleId) === -1) {\n\t\t\t\t\tparents.push(moduleId);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcurrentParents = [moduleId];\n\t\t\t\tcurrentChildModule = request;\n\t\t\t}\n\t\t\tif (me.children.indexOf(request) === -1) {\n\t\t\t\tme.children.push(request);\n\t\t\t}\n\t\t} else {\n\t\t\tconsole.warn(\n\t\t\t\t\"[HMR] unexpected require(\" +\n\t\t\t\t\trequest +\n\t\t\t\t\t\") from disposed module \" +\n\t\t\t\t\tmoduleId\n\t\t\t);\n\t\t\tcurrentParents = [];\n\t\t}\n\t\treturn require(request);\n\t};\n\tvar createPropertyDescriptor = function (name) {\n\t\treturn {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\treturn require[name];\n\t\t\t},\n\t\t\tset: function (value) {\n\t\t\t\trequire[name] = value;\n\t\t\t}\n\t\t};\n\t};\n\tfor (var name in require) {\n\t\tif (Object.prototype.hasOwnProperty.call(require, name) && name !== \"e\") {\n\t\t\tObject.defineProperty(fn, name, createPropertyDescriptor(name));\n\t\t}\n\t}\n\tfn.e = function (chunkId) {\n\t\treturn trackBlockingPromise(require.e(chunkId));\n\t};\n\treturn fn;\n}\n\nfunction createModuleHotObject(moduleId, me) {\n\tvar _main = currentChildModule !== moduleId;\n\tvar hot = {\n\t\t// private stuff\n\t\t_acceptedDependencies: {},\n\t\t_acceptedErrorHandlers: {},\n\t\t_declinedDependencies: {},\n\t\t_selfAccepted: false,\n\t\t_selfDeclined: false,\n\t\t_selfInvalidated: false,\n\t\t_disposeHandlers: [],\n\t\t_main: _main,\n\t\t_requireSelf: function () {\n\t\t\tcurrentParents = me.parents.slice();\n\t\t\tcurrentChildModule = _main ? undefined : moduleId;\n\t\t\t__webpack_require__(moduleId);\n\t\t},\n\n\t\t// Module API\n\t\tactive: true,\n\t\taccept: function (dep, callback, errorHandler) {\n\t\t\tif (dep === undefined) hot._selfAccepted = true;\n\t\t\telse if (typeof dep === \"function\") hot._selfAccepted = dep;\n\t\t\telse if (typeof dep === \"object\" && dep !== null) {\n\t\t\t\tfor (var i = 0; i < dep.length; i++) {\n\t\t\t\t\thot._acceptedDependencies[dep[i]] = callback || function () {};\n\t\t\t\t\thot._acceptedErrorHandlers[dep[i]] = errorHandler;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\thot._acceptedDependencies[dep] = callback || function () {};\n\t\t\t\thot._acceptedErrorHandlers[dep] = errorHandler;\n\t\t\t}\n\t\t},\n\t\tdecline: function (dep) {\n\t\t\tif (dep === undefined) hot._selfDeclined = true;\n\t\t\telse if (typeof dep === \"object\" && dep !== null)\n\t\t\t\tfor (var i = 0; i < dep.length; i++)\n\t\t\t\t\thot._declinedDependencies[dep[i]] = true;\n\t\t\telse hot._declinedDependencies[dep] = true;\n\t\t},\n\t\tdispose: function (callback) {\n\t\t\thot._disposeHandlers.push(callback);\n\t\t},\n\t\taddDisposeHandler: function (callback) {\n\t\t\thot._disposeHandlers.push(callback);\n\t\t},\n\t\tremoveDisposeHandler: function (callback) {\n\t\t\tvar idx = hot._disposeHandlers.indexOf(callback);\n\t\t\tif (idx >= 0) hot._disposeHandlers.splice(idx, 1);\n\t\t},\n\t\tinvalidate: function () {\n\t\t\tthis._selfInvalidated = true;\n\t\t\tswitch (currentStatus) {\n\t\t\t\tcase \"idle\":\n\t\t\t\t\tcurrentUpdateApplyHandlers = [];\n\t\t\t\t\tObject.keys(__webpack_require__.hmrI).forEach(function (key) {\n\t\t\t\t\t\t__webpack_require__.hmrI[key](\n\t\t\t\t\t\t\tmoduleId,\n\t\t\t\t\t\t\tcurrentUpdateApplyHandlers\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t\tsetStatus(\"ready\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"ready\":\n\t\t\t\t\tObject.keys(__webpack_require__.hmrI).forEach(function (key) {\n\t\t\t\t\t\t__webpack_require__.hmrI[key](\n\t\t\t\t\t\t\tmoduleId,\n\t\t\t\t\t\t\tcurrentUpdateApplyHandlers\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"prepare\":\n\t\t\t\tcase \"check\":\n\t\t\t\tcase \"dispose\":\n\t\t\t\tcase \"apply\":\n\t\t\t\t\t(queuedInvalidatedModules = queuedInvalidatedModules || []).push(\n\t\t\t\t\t\tmoduleId\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t// ignore requests in error states\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\n\t\t// Management API\n\t\tcheck: hotCheck,\n\t\tapply: hotApply,\n\t\tstatus: function (l) {\n\t\t\tif (!l) return currentStatus;\n\t\t\tregisteredStatusHandlers.push(l);\n\t\t},\n\t\taddStatusHandler: function (l) {\n\t\t\tregisteredStatusHandlers.push(l);\n\t\t},\n\t\tremoveStatusHandler: function (l) {\n\t\t\tvar idx = registeredStatusHandlers.indexOf(l);\n\t\t\tif (idx >= 0) registeredStatusHandlers.splice(idx, 1);\n\t\t},\n\n\t\t//inherit from previous dispose call\n\t\tdata: currentModuleData[moduleId]\n\t};\n\tcurrentChildModule = undefined;\n\treturn hot;\n}\n\nfunction setStatus(newStatus) {\n\tcurrentStatus = newStatus;\n\tfor (var i = 0; i < registeredStatusHandlers.length; i++)\n\t\tregisteredStatusHandlers[i].call(null, newStatus);\n}\n\nfunction trackBlockingPromise(promise) {\n\tswitch (currentStatus) {\n\t\tcase \"ready\":\n\t\t\tsetStatus(\"prepare\");\n\t\t\tblockingPromises.push(promise);\n\t\t\twaitForBlockingPromises(function () {\n\t\t\t\tsetStatus(\"ready\");\n\t\t\t});\n\t\t\treturn promise;\n\t\tcase \"prepare\":\n\t\t\tblockingPromises.push(promise);\n\t\t\treturn promise;\n\t\tdefault:\n\t\t\treturn promise;\n\t}\n}\n\nfunction waitForBlockingPromises(fn) {\n\tif (blockingPromises.length === 0) return fn();\n\tvar blocker = blockingPromises;\n\tblockingPromises = [];\n\treturn Promise.all(blocker).then(function () {\n\t\treturn waitForBlockingPromises(fn);\n\t});\n}\n\nfunction hotCheck(applyOnUpdate) {\n\tif (currentStatus !== \"idle\") {\n\t\tthrow new Error(\"check() is only allowed in idle status\");\n\t}\n\tsetStatus(\"check\");\n\treturn __webpack_require__.hmrM().then(function (update) {\n\t\tif (!update) {\n\t\t\tsetStatus(applyInvalidatedModules() ? \"ready\" : \"idle\");\n\t\t\treturn null;\n\t\t}\n\n\t\tsetStatus(\"prepare\");\n\n\t\tvar updatedModules = [];\n\t\tblockingPromises = [];\n\t\tcurrentUpdateApplyHandlers = [];\n\n\t\treturn Promise.all(\n\t\t\tObject.keys(__webpack_require__.hmrC).reduce(function (\n\t\t\t\tpromises,\n\t\t\t\tkey\n\t\t\t) {\n\t\t\t\t__webpack_require__.hmrC[key](\n\t\t\t\t\tupdate.c,\n\t\t\t\t\tupdate.r,\n\t\t\t\t\tupdate.m,\n\t\t\t\t\tpromises,\n\t\t\t\t\tcurrentUpdateApplyHandlers,\n\t\t\t\t\tupdatedModules\n\t\t\t\t);\n\t\t\t\treturn promises;\n\t\t\t},\n\t\t\t[])\n\t\t).then(function () {\n\t\t\treturn waitForBlockingPromises(function () {\n\t\t\t\tif (applyOnUpdate) {\n\t\t\t\t\treturn internalApply(applyOnUpdate);\n\t\t\t\t} else {\n\t\t\t\t\tsetStatus(\"ready\");\n\n\t\t\t\t\treturn updatedModules;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t});\n}\n\nfunction hotApply(options) {\n\tif (currentStatus !== \"ready\") {\n\t\treturn Promise.resolve().then(function () {\n\t\t\tthrow new Error(\"apply() is only allowed in ready status\");\n\t\t});\n\t}\n\treturn internalApply(options);\n}\n\nfunction internalApply(options) {\n\toptions = options || {};\n\n\tapplyInvalidatedModules();\n\n\tvar results = currentUpdateApplyHandlers.map(function (handler) {\n\t\treturn handler(options);\n\t});\n\tcurrentUpdateApplyHandlers = undefined;\n\n\tvar errors = results\n\t\t.map(function (r) {\n\t\t\treturn r.error;\n\t\t})\n\t\t.filter(Boolean);\n\n\tif (errors.length > 0) {\n\t\tsetStatus(\"abort\");\n\t\treturn Promise.resolve().then(function () {\n\t\t\tthrow errors[0];\n\t\t});\n\t}\n\n\t// Now in \"dispose\" phase\n\tsetStatus(\"dispose\");\n\n\tresults.forEach(function (result) {\n\t\tif (result.dispose) result.dispose();\n\t});\n\n\t// Now in \"apply\" phase\n\tsetStatus(\"apply\");\n\n\tvar error;\n\tvar reportError = function (err) {\n\t\tif (!error) error = err;\n\t};\n\n\tvar outdatedModules = [];\n\tresults.forEach(function (result) {\n\t\tif (result.apply) {\n\t\t\tvar modules = result.apply(reportError);\n\t\t\tif (modules) {\n\t\t\t\tfor (var i = 0; i < modules.length; i++) {\n\t\t\t\t\toutdatedModules.push(modules[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\t// handle errors in accept handlers and self accepted module load\n\tif (error) {\n\t\tsetStatus(\"fail\");\n\t\treturn Promise.resolve().then(function () {\n\t\t\tthrow error;\n\t\t});\n\t}\n\n\tif (queuedInvalidatedModules) {\n\t\treturn internalApply(options).then(function (list) {\n\t\t\toutdatedModules.forEach(function (moduleId) {\n\t\t\t\tif (list.indexOf(moduleId) < 0) list.push(moduleId);\n\t\t\t});\n\t\t\treturn list;\n\t\t});\n\t}\n\n\tsetStatus(\"idle\");\n\treturn Promise.resolve(outdatedModules);\n}\n\nfunction applyInvalidatedModules() {\n\tif (queuedInvalidatedModules) {\n\t\tif (!currentUpdateApplyHandlers) currentUpdateApplyHandlers = [];\n\t\tObject.keys(__webpack_require__.hmrI).forEach(function (key) {\n\t\t\tqueuedInvalidatedModules.forEach(function (moduleId) {\n\t\t\t\t__webpack_require__.hmrI[key](\n\t\t\t\t\tmoduleId,\n\t\t\t\t\tcurrentUpdateApplyHandlers\n\t\t\t\t);\n\t\t\t});\n\t\t});\n\t\tqueuedInvalidatedModules = undefined;\n\t\treturn true;\n\t}\n}","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"main\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\nvar currentUpdatedModulesList;\nvar waitingUpdateResolves = {};\nfunction loadUpdateChunk(chunkId) {\n\treturn new Promise((resolve, reject) => {\n\t\twaitingUpdateResolves[chunkId] = resolve;\n\t\t// start update chunk loading\n\t\tvar url = __webpack_require__.p + __webpack_require__.hu(chunkId);\n\t\t// create error before stack unwound to get useful stacktrace later\n\t\tvar error = new Error();\n\t\tvar loadingEnded = (event) => {\n\t\t\tif(waitingUpdateResolves[chunkId]) {\n\t\t\t\twaitingUpdateResolves[chunkId] = undefined\n\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\terror.message = 'Loading hot update chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\terror.type = errorType;\n\t\t\t\terror.request = realSrc;\n\t\t\t\treject(error);\n\t\t\t}\n\t\t};\n\t\t__webpack_require__.l(url, loadingEnded);\n\t});\n}\n\nself[\"webpackHotUpdate\"] = (chunkId, moreModules, runtime) => {\n\tfor(var moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\tcurrentUpdate[moduleId] = moreModules[moduleId];\n\t\t\tif(currentUpdatedModulesList) currentUpdatedModulesList.push(moduleId);\n\t\t}\n\t}\n\tif(runtime) currentUpdateRuntime.push(runtime);\n\tif(waitingUpdateResolves[chunkId]) {\n\t\twaitingUpdateResolves[chunkId]();\n\t\twaitingUpdateResolves[chunkId] = undefined;\n\t}\n};\n\nvar currentUpdateChunks;\nvar currentUpdate;\nvar currentUpdateRemovedChunks;\nvar currentUpdateRuntime;\nfunction applyHandler(options) {\n\tif (__webpack_require__.f) delete __webpack_require__.f.jsonpHmr;\n\tcurrentUpdateChunks = undefined;\n\tfunction getAffectedModuleEffects(updateModuleId) {\n\t\tvar outdatedModules = [updateModuleId];\n\t\tvar outdatedDependencies = {};\n\n\t\tvar queue = outdatedModules.map(function (id) {\n\t\t\treturn {\n\t\t\t\tchain: [id],\n\t\t\t\tid: id\n\t\t\t};\n\t\t});\n\t\twhile (queue.length > 0) {\n\t\t\tvar queueItem = queue.pop();\n\t\t\tvar moduleId = queueItem.id;\n\t\t\tvar chain = queueItem.chain;\n\t\t\tvar module = __webpack_require__.c[moduleId];\n\t\t\tif (\n\t\t\t\t!module ||\n\t\t\t\t(module.hot._selfAccepted && !module.hot._selfInvalidated)\n\t\t\t)\n\t\t\t\tcontinue;\n\t\t\tif (module.hot._selfDeclined) {\n\t\t\t\treturn {\n\t\t\t\t\ttype: \"self-declined\",\n\t\t\t\t\tchain: chain,\n\t\t\t\t\tmoduleId: moduleId\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (module.hot._main) {\n\t\t\t\treturn {\n\t\t\t\t\ttype: \"unaccepted\",\n\t\t\t\t\tchain: chain,\n\t\t\t\t\tmoduleId: moduleId\n\t\t\t\t};\n\t\t\t}\n\t\t\tfor (var i = 0; i < module.parents.length; i++) {\n\t\t\t\tvar parentId = module.parents[i];\n\t\t\t\tvar parent = __webpack_require__.c[parentId];\n\t\t\t\tif (!parent) continue;\n\t\t\t\tif (parent.hot._declinedDependencies[moduleId]) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: \"declined\",\n\t\t\t\t\t\tchain: chain.concat([parentId]),\n\t\t\t\t\t\tmoduleId: moduleId,\n\t\t\t\t\t\tparentId: parentId\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif (outdatedModules.indexOf(parentId) !== -1) continue;\n\t\t\t\tif (parent.hot._acceptedDependencies[moduleId]) {\n\t\t\t\t\tif (!outdatedDependencies[parentId])\n\t\t\t\t\t\toutdatedDependencies[parentId] = [];\n\t\t\t\t\taddAllToSet(outdatedDependencies[parentId], [moduleId]);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tdelete outdatedDependencies[parentId];\n\t\t\t\toutdatedModules.push(parentId);\n\t\t\t\tqueue.push({\n\t\t\t\t\tchain: chain.concat([parentId]),\n\t\t\t\t\tid: parentId\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\ttype: \"accepted\",\n\t\t\tmoduleId: updateModuleId,\n\t\t\toutdatedModules: outdatedModules,\n\t\t\toutdatedDependencies: outdatedDependencies\n\t\t};\n\t}\n\n\tfunction addAllToSet(a, b) {\n\t\tfor (var i = 0; i < b.length; i++) {\n\t\t\tvar item = b[i];\n\t\t\tif (a.indexOf(item) === -1) a.push(item);\n\t\t}\n\t}\n\n\t// at begin all updates modules are outdated\n\t// the \"outdated\" status can propagate to parents if they don't accept the children\n\tvar outdatedDependencies = {};\n\tvar outdatedModules = [];\n\tvar appliedUpdate = {};\n\n\tvar warnUnexpectedRequire = function warnUnexpectedRequire(module) {\n\t\tconsole.warn(\n\t\t\t\"[HMR] unexpected require(\" + module.id + \") to disposed module\"\n\t\t);\n\t};\n\n\tfor (var moduleId in currentUpdate) {\n\t\tif (__webpack_require__.o(currentUpdate, moduleId)) {\n\t\t\tvar newModuleFactory = currentUpdate[moduleId];\n\t\t\t/** @type {TODO} */\n\t\t\tvar result;\n\t\t\tif (newModuleFactory) {\n\t\t\t\tresult = getAffectedModuleEffects(moduleId);\n\t\t\t} else {\n\t\t\t\tresult = {\n\t\t\t\t\ttype: \"disposed\",\n\t\t\t\t\tmoduleId: moduleId\n\t\t\t\t};\n\t\t\t}\n\t\t\t/** @type {Error|false} */\n\t\t\tvar abortError = false;\n\t\t\tvar doApply = false;\n\t\t\tvar doDispose = false;\n\t\t\tvar chainInfo = \"\";\n\t\t\tif (result.chain) {\n\t\t\t\tchainInfo = \"\\nUpdate propagation: \" + result.chain.join(\" -> \");\n\t\t\t}\n\t\t\tswitch (result.type) {\n\t\t\t\tcase \"self-declined\":\n\t\t\t\t\tif (options.onDeclined) options.onDeclined(result);\n\t\t\t\t\tif (!options.ignoreDeclined)\n\t\t\t\t\t\tabortError = new Error(\n\t\t\t\t\t\t\t\"Aborted because of self decline: \" +\n\t\t\t\t\t\t\t\tresult.moduleId +\n\t\t\t\t\t\t\t\tchainInfo\n\t\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"declined\":\n\t\t\t\t\tif (options.onDeclined) options.onDeclined(result);\n\t\t\t\t\tif (!options.ignoreDeclined)\n\t\t\t\t\t\tabortError = new Error(\n\t\t\t\t\t\t\t\"Aborted because of declined dependency: \" +\n\t\t\t\t\t\t\t\tresult.moduleId +\n\t\t\t\t\t\t\t\t\" in \" +\n\t\t\t\t\t\t\t\tresult.parentId +\n\t\t\t\t\t\t\t\tchainInfo\n\t\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"unaccepted\":\n\t\t\t\t\tif (options.onUnaccepted) options.onUnaccepted(result);\n\t\t\t\t\tif (!options.ignoreUnaccepted)\n\t\t\t\t\t\tabortError = new Error(\n\t\t\t\t\t\t\t\"Aborted because \" + moduleId + \" is not accepted\" + chainInfo\n\t\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"accepted\":\n\t\t\t\t\tif (options.onAccepted) options.onAccepted(result);\n\t\t\t\t\tdoApply = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"disposed\":\n\t\t\t\t\tif (options.onDisposed) options.onDisposed(result);\n\t\t\t\t\tdoDispose = true;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error(\"Unexception type \" + result.type);\n\t\t\t}\n\t\t\tif (abortError) {\n\t\t\t\treturn {\n\t\t\t\t\terror: abortError\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (doApply) {\n\t\t\t\tappliedUpdate[moduleId] = newModuleFactory;\n\t\t\t\taddAllToSet(outdatedModules, result.outdatedModules);\n\t\t\t\tfor (moduleId in result.outdatedDependencies) {\n\t\t\t\t\tif (__webpack_require__.o(result.outdatedDependencies, moduleId)) {\n\t\t\t\t\t\tif (!outdatedDependencies[moduleId])\n\t\t\t\t\t\t\toutdatedDependencies[moduleId] = [];\n\t\t\t\t\t\taddAllToSet(\n\t\t\t\t\t\t\toutdatedDependencies[moduleId],\n\t\t\t\t\t\t\tresult.outdatedDependencies[moduleId]\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (doDispose) {\n\t\t\t\taddAllToSet(outdatedModules, [result.moduleId]);\n\t\t\t\tappliedUpdate[moduleId] = warnUnexpectedRequire;\n\t\t\t}\n\t\t}\n\t}\n\tcurrentUpdate = undefined;\n\n\t// Store self accepted outdated modules to require them later by the module system\n\tvar outdatedSelfAcceptedModules = [];\n\tfor (var j = 0; j < outdatedModules.length; j++) {\n\t\tvar outdatedModuleId = outdatedModules[j];\n\t\tvar module = __webpack_require__.c[outdatedModuleId];\n\t\tif (\n\t\t\tmodule &&\n\t\t\t(module.hot._selfAccepted || module.hot._main) &&\n\t\t\t// removed self-accepted modules should not be required\n\t\t\tappliedUpdate[outdatedModuleId] !== warnUnexpectedRequire &&\n\t\t\t// when called invalidate self-accepting is not possible\n\t\t\t!module.hot._selfInvalidated\n\t\t) {\n\t\t\toutdatedSelfAcceptedModules.push({\n\t\t\t\tmodule: outdatedModuleId,\n\t\t\t\trequire: module.hot._requireSelf,\n\t\t\t\terrorHandler: module.hot._selfAccepted\n\t\t\t});\n\t\t}\n\t}\n\n\tvar moduleOutdatedDependencies;\n\n\treturn {\n\t\tdispose: function () {\n\t\t\tcurrentUpdateRemovedChunks.forEach(function (chunkId) {\n\t\t\t\tdelete installedChunks[chunkId];\n\t\t\t});\n\t\t\tcurrentUpdateRemovedChunks = undefined;\n\n\t\t\tvar idx;\n\t\t\tvar queue = outdatedModules.slice();\n\t\t\twhile (queue.length > 0) {\n\t\t\t\tvar moduleId = queue.pop();\n\t\t\t\tvar module = __webpack_require__.c[moduleId];\n\t\t\t\tif (!module) continue;\n\n\t\t\t\tvar data = {};\n\n\t\t\t\t// Call dispose handlers\n\t\t\t\tvar disposeHandlers = module.hot._disposeHandlers;\n\t\t\t\tfor (j = 0; j < disposeHandlers.length; j++) {\n\t\t\t\t\tdisposeHandlers[j].call(null, data);\n\t\t\t\t}\n\t\t\t\t__webpack_require__.hmrD[moduleId] = data;\n\n\t\t\t\t// disable module (this disables requires from this module)\n\t\t\t\tmodule.hot.active = false;\n\n\t\t\t\t// remove module from cache\n\t\t\t\tdelete __webpack_require__.c[moduleId];\n\n\t\t\t\t// when disposing there is no need to call dispose handler\n\t\t\t\tdelete outdatedDependencies[moduleId];\n\n\t\t\t\t// remove \"parents\" references from all children\n\t\t\t\tfor (j = 0; j < module.children.length; j++) {\n\t\t\t\t\tvar child = __webpack_require__.c[module.children[j]];\n\t\t\t\t\tif (!child) continue;\n\t\t\t\t\tidx = child.parents.indexOf(moduleId);\n\t\t\t\t\tif (idx >= 0) {\n\t\t\t\t\t\tchild.parents.splice(idx, 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// remove outdated dependency from module children\n\t\t\tvar dependency;\n\t\t\tfor (var outdatedModuleId in outdatedDependencies) {\n\t\t\t\tif (__webpack_require__.o(outdatedDependencies, outdatedModuleId)) {\n\t\t\t\t\tmodule = __webpack_require__.c[outdatedModuleId];\n\t\t\t\t\tif (module) {\n\t\t\t\t\t\tmoduleOutdatedDependencies =\n\t\t\t\t\t\t\toutdatedDependencies[outdatedModuleId];\n\t\t\t\t\t\tfor (j = 0; j < moduleOutdatedDependencies.length; j++) {\n\t\t\t\t\t\t\tdependency = moduleOutdatedDependencies[j];\n\t\t\t\t\t\t\tidx = module.children.indexOf(dependency);\n\t\t\t\t\t\t\tif (idx >= 0) module.children.splice(idx, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tapply: function (reportError) {\n\t\t\t// insert new code\n\t\t\tfor (var updateModuleId in appliedUpdate) {\n\t\t\t\tif (__webpack_require__.o(appliedUpdate, updateModuleId)) {\n\t\t\t\t\t__webpack_require__.m[updateModuleId] = appliedUpdate[updateModuleId];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// run new runtime modules\n\t\t\tfor (var i = 0; i < currentUpdateRuntime.length; i++) {\n\t\t\t\tcurrentUpdateRuntime[i](__webpack_require__);\n\t\t\t}\n\n\t\t\t// call accept handlers\n\t\t\tfor (var outdatedModuleId in outdatedDependencies) {\n\t\t\t\tif (__webpack_require__.o(outdatedDependencies, outdatedModuleId)) {\n\t\t\t\t\tvar module = __webpack_require__.c[outdatedModuleId];\n\t\t\t\t\tif (module) {\n\t\t\t\t\t\tmoduleOutdatedDependencies =\n\t\t\t\t\t\t\toutdatedDependencies[outdatedModuleId];\n\t\t\t\t\t\tvar callbacks = [];\n\t\t\t\t\t\tvar errorHandlers = [];\n\t\t\t\t\t\tvar dependenciesForCallbacks = [];\n\t\t\t\t\t\tfor (var j = 0; j < moduleOutdatedDependencies.length; j++) {\n\t\t\t\t\t\t\tvar dependency = moduleOutdatedDependencies[j];\n\t\t\t\t\t\t\tvar acceptCallback =\n\t\t\t\t\t\t\t\tmodule.hot._acceptedDependencies[dependency];\n\t\t\t\t\t\t\tvar errorHandler =\n\t\t\t\t\t\t\t\tmodule.hot._acceptedErrorHandlers[dependency];\n\t\t\t\t\t\t\tif (acceptCallback) {\n\t\t\t\t\t\t\t\tif (callbacks.indexOf(acceptCallback) !== -1) continue;\n\t\t\t\t\t\t\t\tcallbacks.push(acceptCallback);\n\t\t\t\t\t\t\t\terrorHandlers.push(errorHandler);\n\t\t\t\t\t\t\t\tdependenciesForCallbacks.push(dependency);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (var k = 0; k < callbacks.length; k++) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tcallbacks[k].call(null, moduleOutdatedDependencies);\n\t\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t\tif (typeof errorHandlers[k] === \"function\") {\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\terrorHandlers[k](err, {\n\t\t\t\t\t\t\t\t\t\t\tmoduleId: outdatedModuleId,\n\t\t\t\t\t\t\t\t\t\t\tdependencyId: dependenciesForCallbacks[k]\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} catch (err2) {\n\t\t\t\t\t\t\t\t\t\tif (options.onErrored) {\n\t\t\t\t\t\t\t\t\t\t\toptions.onErrored({\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"accept-error-handler-errored\",\n\t\t\t\t\t\t\t\t\t\t\t\tmoduleId: outdatedModuleId,\n\t\t\t\t\t\t\t\t\t\t\t\tdependencyId: dependenciesForCallbacks[k],\n\t\t\t\t\t\t\t\t\t\t\t\terror: err2,\n\t\t\t\t\t\t\t\t\t\t\t\toriginalError: err\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif (!options.ignoreErrored) {\n\t\t\t\t\t\t\t\t\t\t\treportError(err2);\n\t\t\t\t\t\t\t\t\t\t\treportError(err);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (options.onErrored) {\n\t\t\t\t\t\t\t\t\t\toptions.onErrored({\n\t\t\t\t\t\t\t\t\t\t\ttype: \"accept-errored\",\n\t\t\t\t\t\t\t\t\t\t\tmoduleId: outdatedModuleId,\n\t\t\t\t\t\t\t\t\t\t\tdependencyId: dependenciesForCallbacks[k],\n\t\t\t\t\t\t\t\t\t\t\terror: err\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (!options.ignoreErrored) {\n\t\t\t\t\t\t\t\t\t\treportError(err);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Load self accepted modules\n\t\t\tfor (var o = 0; o < outdatedSelfAcceptedModules.length; o++) {\n\t\t\t\tvar item = outdatedSelfAcceptedModules[o];\n\t\t\t\tvar moduleId = item.module;\n\t\t\t\ttry {\n\t\t\t\t\titem.require(moduleId);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tif (typeof item.errorHandler === \"function\") {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\titem.errorHandler(err, {\n\t\t\t\t\t\t\t\tmoduleId: moduleId,\n\t\t\t\t\t\t\t\tmodule: __webpack_require__.c[moduleId]\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} catch (err2) {\n\t\t\t\t\t\t\tif (options.onErrored) {\n\t\t\t\t\t\t\t\toptions.onErrored({\n\t\t\t\t\t\t\t\t\ttype: \"self-accept-error-handler-errored\",\n\t\t\t\t\t\t\t\t\tmoduleId: moduleId,\n\t\t\t\t\t\t\t\t\terror: err2,\n\t\t\t\t\t\t\t\t\toriginalError: err\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (!options.ignoreErrored) {\n\t\t\t\t\t\t\t\treportError(err2);\n\t\t\t\t\t\t\t\treportError(err);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (options.onErrored) {\n\t\t\t\t\t\t\toptions.onErrored({\n\t\t\t\t\t\t\t\ttype: \"self-accept-errored\",\n\t\t\t\t\t\t\t\tmoduleId: moduleId,\n\t\t\t\t\t\t\t\terror: err\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!options.ignoreErrored) {\n\t\t\t\t\t\t\treportError(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn outdatedModules;\n\t\t}\n\t};\n}\n__webpack_require__.hmrI.jsonp = function (moduleId, applyHandlers) {\n\tif (!currentUpdate) {\n\t\tcurrentUpdate = {};\n\t\tcurrentUpdateRuntime = [];\n\t\tcurrentUpdateRemovedChunks = [];\n\t\tapplyHandlers.push(applyHandler);\n\t}\n\tif (!__webpack_require__.o(currentUpdate, moduleId)) {\n\t\tcurrentUpdate[moduleId] = __webpack_require__.m[moduleId];\n\t}\n};\n__webpack_require__.hmrC.jsonp = function (\n\tchunkIds,\n\tremovedChunks,\n\tremovedModules,\n\tpromises,\n\tapplyHandlers,\n\tupdatedModulesList\n) {\n\tapplyHandlers.push(applyHandler);\n\tcurrentUpdateChunks = {};\n\tcurrentUpdateRemovedChunks = removedChunks;\n\tcurrentUpdate = removedModules.reduce(function (obj, key) {\n\t\tobj[key] = false;\n\t\treturn obj;\n\t}, {});\n\tcurrentUpdateRuntime = [];\n\tchunkIds.forEach(function (chunkId) {\n\t\tif (\n\t\t\t__webpack_require__.o(installedChunks, chunkId) &&\n\t\t\tinstalledChunks[chunkId] !== undefined\n\t\t) {\n\t\t\tpromises.push(loadUpdateChunk(chunkId, updatedModulesList));\n\t\t\tcurrentUpdateChunks[chunkId] = true;\n\t\t}\n\t});\n\tif (__webpack_require__.f) {\n\t\t__webpack_require__.f.jsonpHmr = function (chunkId, promises) {\n\t\t\tif (\n\t\t\t\tcurrentUpdateChunks &&\n\t\t\t\t!__webpack_require__.o(currentUpdateChunks, chunkId) &&\n\t\t\t\t__webpack_require__.o(installedChunks, chunkId) &&\n\t\t\t\tinstalledChunks[chunkId] !== undefined\n\t\t\t) {\n\t\t\t\tpromises.push(loadUpdateChunk(chunkId));\n\t\t\t\tcurrentUpdateChunks[chunkId] = true;\n\t\t\t}\n\t\t};\n\t}\n};\n\n__webpack_require__.hmrM = () => {\n\tif (typeof fetch === \"undefined\") throw new Error(\"No browser support: need fetch API\");\n\treturn fetch(__webpack_require__.p + __webpack_require__.hmrF()).then((response) => {\n\t\tif(response.status === 404) return; // no update available\n\t\tif(!response.ok) throw new Error(\"Failed to fetch update manifest \" + response.statusText);\n\t\treturn response.json();\n\t});\n};\n\n// no on chunks loaded\n\n// no jsonp function","// module cache are used so entry inlining is disabled\n// startup\n// Load entry module and return exports\nvar __webpack_exports__ = __webpack_require__(\"./src/index.tsx\");\n"],"sourceRoot":""}